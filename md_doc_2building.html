<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TARAXA: Building taraxa-node</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TARAXA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_doc_2building.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Building taraxa-node</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md26"></a> </p>
<h2><a class="anchor" id="autotoc_md27"></a>
Compile-Time Options (cmake)</h2>
<h3><a class="anchor" id="autotoc_md28"></a>
CMAKE_BUILD_TYPE=[Release/Debug/RelWithDebInfo]</h3>
<p>Specifies whether to build with or without optimization and without or with the symbol table for debugging. Unless you are specifically debugging or running tests, it is recommended to build as release.</p>
<h1><a class="anchor" id="autotoc_md29"></a>
Building project</h1>
<h2><a class="anchor" id="autotoc_md30"></a>
1. Install dependencies</h2>
<h3><a class="anchor" id="autotoc_md31"></a>
[Ubuntu 24.04]</h3>
<h1><a class="anchor" id="autotoc_md32"></a>
Required packages</h1>
<p>sudo apt-get install -y \ libtool \ autoconf \ ccache \ cmake \ clang \ clang-format-18 \ clang-tidy-18 \ llvm-18 \ golang-go \ python3-full \ libzstd-dev \ libsnappy-dev \ libmicrohttpd-dev</p>
<h1><a class="anchor" id="autotoc_md33"></a>
Optional. Needed to run py_test. This won't install on arm64 OS because package is missing in apt</h1>
<p>sudo add-apt-repository ppa:ethereum/ethereum sudo apt-get update sudo apt install solc</p>
<h1><a class="anchor" id="autotoc_md34"></a>
Install conan package manager</h1>
<p>sudo python3 -m pip install conan==2.15.0</p>
<h4><a class="anchor" id="autotoc_md35"></a>
[MacOS]</h4>
<p>First you need to get (Brew)[<a href="https://brew.sh/">https://brew.sh/</a>] package manager. After that you need to install dependencies with it. Clang-18 is used for compilation. </p><pre class="fragment">brew update
brew install coreutils go autoconf automake gflags git libtool llvm@18 make pkg-config cmake conan snappy zstd libmicrohttpd
</pre> <h3><a class="anchor" id="autotoc_md36"></a>
2. Clone the Repository</h3>
<pre class="fragment">git clone https://github.com/Taraxa-project/taraxa-node.git
cd taraxa-node
git submodule update --init --recursive
</pre> <h3><a class="anchor" id="autotoc_md37"></a>
3. Compile</h3>
<pre class="fragment"># Build project
./scripts/build.sh
</pre><h3><a class="anchor" id="autotoc_md38"></a>
Known issues</h3>
<h4><a class="anchor" id="autotoc_md39"></a>
Issues with conan cache</h4>
<p>Sometimes conan cache goes wrong, so you should clean it up. You could face error like: </p><div class="fragment"><div class="line">ERROR: boost/1.76.0: Error in package_info() method, line 1492</div>
<div class="line">    raise ConanException(&quot;These libraries were expected to be built, but were not built: {}&quot;.format(non_built))</div>
<div class="line">    ConanException: These libraries were expected to be built, but were not built: {&#39;boost_math_c99l&#39;, &#39;boost_json&#39;, &#39;boost_math_c99&#39;, &#39;boost_nowide&#39;, &#39;boost_math_tr1l&#39;, &#39;boost_math_tr1f&#39;, &#39;boost_math_tr1&#39;, &#39;boost_math_c99f&#39;}</div>
</div><!-- fragment --><p>It could be cleaned up with:</p>
<div class="fragment"><div class="line">conan cache clean</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md40"></a>
Run</h2>
<h3><a class="anchor" id="autotoc_md41"></a>
Running tests</h3>
<pre class="fragment">cd build
make all_tests

or

cd build/tests
ctest
</pre> <h3><a class="anchor" id="autotoc_md42"></a>
Running taraxa-node</h3>
<pre class="fragment">cd build/bin
</pre><p> Run taraxa node with default testnet config which on initial run will generate default config and wallet file in <code>~/.taraxa/config.json</code> and <code>~/.taraxa/wallet.json</code> </p><pre class="fragment"># run taraxa-node
./taraxad
</pre><p> Run taraxa node with specified config and wallet files </p><pre class="fragment"># run taraxa-node
./taraxad --config /path/to/config/file --wallet /path/to/wallet/file
</pre><p> Run help message to display all command line options to run and configure node in devnet, testnet or custom network </p><pre class="fragment"># help
./taraxad --help
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

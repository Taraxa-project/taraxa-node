<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TARAXA: libraries/core_libs/consensus/include/dag/dag_manager.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TARAXA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dag__manager_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dag_manager.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dag__manager_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dag_8hpp.html">dag.hpp</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dag__block_8hpp.html">dag/dag_block.hpp</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pbft__chain_8hpp.html">pbft/pbft_chain.hpp</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sortition__params__manager_8hpp.html">sortition_params_manager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="storage_8hpp.html">storage/storage.hpp</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="transaction__manager_8hpp.html">transaction/transaction_manager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacetaraxa.html">taraxa</a> {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">class </span>Network;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">class </span>DagBuffer;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">class </span>FullNode;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">class </span>KeyManager;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="group___d_a_g.html">   28</a></span>&#160;<span class="keyword">class </span><a class="code" href="group___d_a_g.html#classtaraxa_1_1_dag_manager">DagManager</a> : <span class="keyword">public</span> std::enable_shared_from_this&lt;DagManager&gt; {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484">   33</a></span>&#160;  <span class="keyword">enum class</span> <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484">VerifyBlockReturnType</a> : uint32_t {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a3f68e67dc6c397aaa9d1c24c356f754f">Verified</a> = 0,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a6650939da54b7c46c8dd6642277e0a6e">MissingTransaction</a>,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484ac300941b40429dd6b0c4938610fe57e9">AheadBlock</a>,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a0f00a32181260e84100676ad87f7b484">FailedVdfVerification</a>,</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a06535ac2c9072d85020c37c87ff13ff4">FutureBlock</a>,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a916ec32bed391fc1def53a8e263ec400">NotEligible</a>,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a62018b502a00304fc02337ba19cdba0c">ExpiredBlock</a>,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a122320ab35a2188727e599b3cc61d72f">IncorrectTransactionsEstimation</a>,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a6acb71e475d0aaa76f18fde586c6d6db">BlockTooBig</a></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  };</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="group___d_a_g.html#aed1bf9463f3f5dd18f46ead7f1323fc1">   45</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="group___d_a_g.html#aed1bf9463f3f5dd18f46ead7f1323fc1">ULock</a> = std::unique_lock&lt;std::shared_mutex&gt;;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a438a9cce146f37209702173a90707322">   46</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="group___d_a_g.html#a438a9cce146f37209702173a90707322">SharedLock</a> = std::shared_lock&lt;std::shared_mutex&gt;;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="group___d_a_g.html#a77daf30c3c77830f8fbaeebd0ff02b16">DagManager</a>(<a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a> <span class="keyword">const</span> &amp;dag_genesis_block_hash, <a class="code" href="classdev_1_1_fixed_hash.html">addr_t</a> node_addr,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                      <span class="keyword">const</span> <a class="code" href="structtaraxa_1_1_sortition_config.html">SortitionConfig</a> &amp;sortition_config, <span class="keyword">const</span> <a class="code" href="structtaraxa_1_1_dag_config.html">DagConfig</a> &amp;dag_config,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                      std::shared_ptr&lt;TransactionManager&gt; trx_mgr, std::shared_ptr&lt;PbftChain&gt; pbft_chain,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                      std::shared_ptr&lt;FinalChain&gt; final_chain, std::shared_ptr&lt;DbStorage&gt; db,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                      std::shared_ptr&lt;KeyManager&gt; key_manager, <span class="keywordtype">bool</span> is_light_node = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                      uint64_t light_node_history = 0, uint32_t max_levels_per_period = <a class="code" href="namespacetaraxa.html#ab2f5ec0c8b9d91b604a61ca8062d0505">kMaxLevelsPerPeriod</a>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                      uint32_t dag_expiry_limit = <a class="code" href="namespacetaraxa.html#ad71e68c4976b8c6ed7407682d06505ab">kDagExpiryLevelLimit</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="group___d_a_g.html#a77daf30c3c77830f8fbaeebd0ff02b16">DagManager</a>(<span class="keyword">const</span> <a class="code" href="group___d_a_g.html#classtaraxa_1_1_dag_manager">DagManager</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="group___d_a_g.html#a77daf30c3c77830f8fbaeebd0ff02b16">DagManager</a>(<a class="code" href="group___d_a_g.html#classtaraxa_1_1_dag_manager">DagManager</a> &amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="group___d_a_g.html#classtaraxa_1_1_dag_manager">DagManager</a> &amp;<a class="code" href="group___d_a_g.html#a5726a38bbb3271e14ec85634207704ef">operator=</a>(<span class="keyword">const</span> <a class="code" href="group___d_a_g.html#classtaraxa_1_1_dag_manager">DagManager</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="group___d_a_g.html#classtaraxa_1_1_dag_manager">DagManager</a> &amp;<a class="code" href="group___d_a_g.html#a5726a38bbb3271e14ec85634207704ef">operator=</a>(<a class="code" href="group___d_a_g.html#classtaraxa_1_1_dag_manager">DagManager</a> &amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  std::shared_ptr&lt;DagManager&gt; <a class="code" href="group___d_a_g.html#aa8d1eb570a2cba814ff88f3500fe3fa1">getShared</a>();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a33f6170a6c7af4d2e3b6d5c374a042fd">   63</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a33f6170a6c7af4d2e3b6d5c374a042fd">setNetwork</a>(std::weak_ptr&lt;Network&gt; network) { <a class="code" href="group___d_a_g.html#a3556c5c37d7798257f61f03c10192fb1">network_</a> = std::move(network); }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="group___d_a_g.html#a478ed805801b09b4d80b940473840822">isDagBlockKnown</a>(<span class="keyword">const</span> <a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a> &amp;hash) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  std::shared_ptr&lt;DagBlock&gt; <a class="code" href="group___d_a_g.html#abce853c7b3f9c2ad1d7f8f645573254a">getDagBlock</a>(<span class="keyword">const</span> <a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a> &amp;hash) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484">VerifyBlockReturnType</a> <a class="code" href="group___d_a_g.html#a2743a075e35d45823238cf5d540e69d1">verifyBlock</a>(<span class="keyword">const</span> <a class="code" href="classtaraxa_1_1_dag_block.html">DagBlock</a> &amp;blk);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  std::pair&lt;bool, std::vector&lt;blk_hash_t&gt;&gt; <a class="code" href="group___d_a_g.html#afd43873f7de88687241db2e74a431966">pivotAndTipsAvailable</a>(<a class="code" href="classtaraxa_1_1_dag_block.html">DagBlock</a> <span class="keyword">const</span> &amp;blk);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  std::pair&lt;bool, std::vector&lt;blk_hash_t&gt;&gt; <a class="code" href="group___d_a_g.html#af03ed62a5da2149160bf80318f94fc17">addDagBlock</a>(<a class="code" href="classtaraxa_1_1_dag_block.html">DagBlock</a> &amp;&amp;blk, <a class="code" href="namespacetaraxa.html#a18f2be82043dcbbfbeacec4cf953366e">SharedTransactions</a> &amp;&amp;trxs = {},</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                                       <span class="keywordtype">bool</span> proposed = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                                       <span class="keywordtype">bool</span> save = <span class="keyword">true</span>);  <span class="comment">// insert to buffer if fail</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="namespacetaraxa.html#a3b0dfef1d0e54a4410d95b131a6203b3">vec_blk_t</a> <a class="code" href="group___d_a_g.html#af0b8ed0231d112b87ebde613de0d53c9">getDagBlockOrder</a>(<a class="code" href="namespacetaraxa.html#a55e7078ff4a35de49d82da478b6d135b">blk_hash_t</a> <span class="keyword">const</span> &amp;anchor, uint64_t period);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  uint <a class="code" href="group___d_a_g.html#a49f52344243b58d06c2a21f59c19788d">setDagBlockOrder</a>(<a class="code" href="namespacetaraxa.html#a55e7078ff4a35de49d82da478b6d135b">blk_hash_t</a> <span class="keyword">const</span> &amp;anchor, uint64_t period, <a class="code" href="namespacetaraxa.html#a3b0dfef1d0e54a4410d95b131a6203b3">vec_blk_t</a> <span class="keyword">const</span> &amp;dag_order);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="group___d_a_g.html#accce6887253aa2f9c2dbf966249d1c1e">  126</a></span>&#160;  uint64_t <a class="code" href="group___d_a_g.html#accce6887253aa2f9c2dbf966249d1c1e">getLightNodeHistory</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#a9da5c3fb13e2ae292e70a030efdfbdec">light_node_history_</a>; }</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a94f485fa25235a24f8ce24aaf061fa6f">  127</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="group___d_a_g.html#a94f485fa25235a24f8ce24aaf061fa6f">isLightNode</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#a304bc3dd4e16a2e6fe824960998fa85c">is_light_node_</a>; }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  std::optional&lt;std::pair&lt;blk_hash_t, std::vector&lt;blk_hash_t&gt;&gt;&gt; <a class="code" href="group___d_a_g.html#aff9a70ff9192904a1c033c6ecb3c89c6">getLatestPivotAndTips</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a1fd6e17ecfef8a80f9c0d6b9629229c9">getGhostPath</a>(<a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a> <span class="keyword">const</span> &amp;source, std::vector&lt;blk_hash_t&gt; &amp;ghost) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a1fd6e17ecfef8a80f9c0d6b9629229c9">getGhostPath</a>(std::vector&lt;blk_hash_t&gt; &amp;ghost) <span class="keyword">const</span>;  <span class="comment">// get ghost path from last anchor</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// ----- Total graph</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a4ab4fb411fe6447b8a556a53c1ea700c">drawTotalGraph</a>(std::string <span class="keyword">const</span> &amp;str) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// ----- Pivot graph</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// can return self as pivot chain</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a6358aeccb8b0ed554c321dda03a02768">drawPivotGraph</a>(std::string <span class="keyword">const</span> &amp;str) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a4338078fd5288067701b3f276076c01a">drawGraph</a>(std::string <span class="keyword">const</span> &amp;dotfile) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  std::pair&lt;uint64_t, uint64_t&gt; <a class="code" href="group___d_a_g.html#a9cf1a5a8f6925a71885b319ed46d64af">getNumVerticesInDag</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  std::pair&lt;uint64_t, uint64_t&gt; <a class="code" href="group___d_a_g.html#a45ba709af4dcfcac0d71bc458f407a2a">getNumEdgesInDag</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="group___d_a_g.html#ab633081885d6c5821e3517ca150e575d">  154</a></span>&#160;  <a class="code" href="namespacetaraxa.html#ac29ce7c6f0fae63e548b523170910526">level_t</a> <a class="code" href="group___d_a_g.html#ab633081885d6c5821e3517ca150e575d">getMaxLevel</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#ab34b96991cbcfd2f72be34a8813ca335">max_level_</a>; }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// DAG anchors</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="group___d_a_g.html#af7d366daea2ee9fd3672a7d8b149d76d">  157</a></span>&#160;  uint64_t <a class="code" href="group___d_a_g.html#af7d366daea2ee9fd3672a7d8b149d76d">getLatestPeriod</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="group___d_a_g.html#a438a9cce146f37209702173a90707322">SharedLock</a> lock(<a class="code" href="group___d_a_g.html#a9a2851fc95fa8d2e023a3ba82d42610b">mutex_</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#a5a146cb6f4a63454cf294d68191146c4">period_</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a99448cc8bd26b6cb6493f4167a8d45e5">  161</a></span>&#160;  std::pair&lt;blk_hash_t, blk_hash_t&gt; <a class="code" href="group___d_a_g.html#a99448cc8bd26b6cb6493f4167a8d45e5">getAnchors</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="group___d_a_g.html#a438a9cce146f37209702173a90707322">SharedLock</a> lock(<a class="code" href="group___d_a_g.html#a9a2851fc95fa8d2e023a3ba82d42610b">mutex_</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<a class="code" href="group___d_a_g.html#a002e408df78fc5e7e744ba1bc2d0e819">old_anchor_</a>, <a class="code" href="group___d_a_g.html#a56e52dad59ae0107beb964b6d7fe857a">anchor_</a>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="group___d_a_g.html#ad4d06db8dc0082eb99625e3fe763a90d">  171</a></span>&#160;  uint32_t <a class="code" href="group___d_a_g.html#ad4d06db8dc0082eb99625e3fe763a90d">getDagExpiryLimit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#a6dc29019c4f006c91f4831b2e4f43162">dag_expiry_limit_</a>; }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keyword">const</span> std::pair&lt;uint64_t, std::map&lt;uint64_t, std::unordered_set&lt;blk_hash_t&gt;&gt;&gt; <a class="code" href="group___d_a_g.html#a26e0a681af13a71389017ec973237625">getNonFinalizedBlocks</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keyword">const</span> std::tuple&lt;uint64_t, std::vector&lt;std::shared_ptr&lt;DagBlock&gt;&gt;, <a class="code" href="namespacetaraxa.html#a18f2be82043dcbbfbeacec4cf953366e">SharedTransactions</a>&gt;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="group___d_a_g.html#a8656ca582249ed982d06e8d640b9f55a">getNonFinalizedBlocksWithTransactions</a>(<span class="keyword">const</span> std::unordered_set&lt;blk_hash_t&gt; &amp;known_hashes) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="structtaraxa_1_1_dag_frontier.html">DagFrontier</a> <a class="code" href="group___d_a_g.html#acb2407e8a252a080510732b64195c1ce">getDagFrontier</a>();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  std::pair&lt;size_t, size_t&gt; <a class="code" href="group___d_a_g.html#a847af2af7e5e6f9b2e09ad71d21e92ad">getNonFinalizedBlocksSize</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a3935e897459f808552ad22fa79fdae84">  192</a></span>&#160;  <a class="code" href="classtaraxa_1_1util_1_1event_1_1_event.html">util::Event&lt;DagManager, DagBlock&gt;</a> <span class="keyword">const</span> <a class="code" href="group___d_a_g.html#a3935e897459f808552ad22fa79fdae84">block_verified_</a>{};</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a99789a24775424e2a83effd8e6b1b2c8">  199</a></span>&#160;  std::shared_mutex &amp;<a class="code" href="group___d_a_g.html#a99789a24775424e2a83effd8e6b1b2c8">getDagMutex</a>() { <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#a9a2851fc95fa8d2e023a3ba82d42610b">mutex_</a>; }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a72081dbb8a3e1375f42994c59343a014">  206</a></span>&#160;  <a class="code" href="group___d_a_g.html#classtaraxa_1_1_sortition_params_manager">SortitionParamsManager</a> &amp;<a class="code" href="group___d_a_g.html#a72081dbb8a3e1375f42994c59343a014">sortitionParamsManager</a>() { <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#a9642bf023edd7084fcd0d7353fb93f81">sortition_params_manager_</a>; }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a71166948658c55df76218ab2d7a45e60">  213</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structtaraxa_1_1_dag_config.html">DagConfig</a> &amp;<a class="code" href="group___d_a_g.html#a71166948658c55df76218ab2d7a45e60">getDagConfig</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#aa3697762b635b69a447e105984f20482">dag_config_</a>; }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a029c23493b0db3bf8f2a1279df404b7e">  220</a></span>&#160;  uint64_t <a class="code" href="group___d_a_g.html#a029c23493b0db3bf8f2a1279df404b7e">getDagExpiryLevel</a>() { <span class="keywordflow">return</span> <a class="code" href="group___d_a_g.html#a7c5c2559e31fc397527a42cbdfa20128">dag_expiry_level_</a>; }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#add5a435648a429250f1ce54dc8b0ec63">recoverDag</a>();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#ae531eee634d1d0d5bad60586dc5bbc89">addToDag</a>(<a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a> <span class="keyword">const</span> &amp;hash, <a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a> <span class="keyword">const</span> &amp;pivot, std::vector&lt;blk_hash_t&gt; <span class="keyword">const</span> &amp;tips, uint64_t level,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordtype">bool</span> finalized = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="group___d_a_g.html#a62e092771ea64e24a726828460fdefd2">validateBlockNotExpired</a>(<span class="keyword">const</span> std::shared_ptr&lt;DagBlock&gt; &amp;dag_block,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                               std::unordered_map&lt;<a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a>, std::shared_ptr&lt;DagBlock&gt;&gt; &amp;expired_dag_blocks_to_remove);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a05d925eccd7403ab607e5f70793c19e0">handleExpiredDagBlocksTransactions</a>(<span class="keyword">const</span> std::vector&lt;trx_hash_t&gt; &amp;transactions_from_expired_dag_blocks) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a1f6e18555f5e2ced0d3d3ab64d8b0065">clearLightNodeHistory</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  std::pair&lt;blk_hash_t, std::vector&lt;blk_hash_t&gt;&gt; <a class="code" href="group___d_a_g.html#af5488b8f21a5009586fa096a05867aa4">getFrontier</a>() <span class="keyword">const</span>;  <span class="comment">// return pivot and tips</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="group___d_a_g.html#a48dff2f0634ce367582074273414ce44">updateFrontier</a>();</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="group___d_a_g.html#ab34b96991cbcfd2f72be34a8813ca335">  233</a></span>&#160;  std::atomic&lt;level_t&gt; <a class="code" href="group___d_a_g.html#ab34b96991cbcfd2f72be34a8813ca335">max_level_</a> = 0;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a9a2851fc95fa8d2e023a3ba82d42610b">  234</a></span>&#160;  <span class="keyword">mutable</span> std::shared_mutex <a class="code" href="group___d_a_g.html#a9a2851fc95fa8d2e023a3ba82d42610b">mutex_</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a6957731509338e71d5f995fa8e68869b">  235</a></span>&#160;  <span class="keyword">mutable</span> std::shared_mutex <a class="code" href="group___d_a_g.html#a6957731509338e71d5f995fa8e68869b">order_dag_blocks_mutex_</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a23675378f56c0682bf619875e3d1e338">  236</a></span>&#160;  std::shared_ptr&lt;PivotTree&gt; <a class="code" href="group___d_a_g.html#a23675378f56c0682bf619875e3d1e338">pivot_tree_</a>;  <span class="comment">// only contains pivot edges</span></div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a533013d07f063bab25ea190511b54c86">  237</a></span>&#160;  std::shared_ptr&lt;Dag&gt; <a class="code" href="group___d_a_g.html#a533013d07f063bab25ea190511b54c86">total_dag_</a>;         <span class="comment">// contains both pivot and tips</span></div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a2b6094bb212edeb2dcba6476d91c62c2">  238</a></span>&#160;  std::shared_ptr&lt;TransactionManager&gt; <a class="code" href="group___d_a_g.html#a2b6094bb212edeb2dcba6476d91c62c2">trx_mgr_</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a3ad66a8821cad052ce8b4ebb7016e804">  239</a></span>&#160;  std::shared_ptr&lt;PbftChain&gt; <a class="code" href="group___d_a_g.html#a3ad66a8821cad052ce8b4ebb7016e804">pbft_chain_</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a3556c5c37d7798257f61f03c10192fb1">  240</a></span>&#160;  std::weak_ptr&lt;Network&gt; <a class="code" href="group___d_a_g.html#a3556c5c37d7798257f61f03c10192fb1">network_</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a8df95cccdea775300aec10f65ab0cdea">  241</a></span>&#160;  std::shared_ptr&lt;DbStorage&gt; <a class="code" href="group___d_a_g.html#a8df95cccdea775300aec10f65ab0cdea">db_</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a24126b789e44798ff62e6f7504ee659f">  242</a></span>&#160;  std::shared_ptr&lt;KeyManager&gt; <a class="code" href="group___d_a_g.html#a24126b789e44798ff62e6f7504ee659f">key_manager_</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a56e52dad59ae0107beb964b6d7fe857a">  243</a></span>&#160;  <a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a> <a class="code" href="group___d_a_g.html#a56e52dad59ae0107beb964b6d7fe857a">anchor_</a>;      <span class="comment">// anchor of the last period</span></div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a002e408df78fc5e7e744ba1bc2d0e819">  244</a></span>&#160;  <a class="code" href="classdev_1_1_fixed_hash.html">blk_hash_t</a> <a class="code" href="group___d_a_g.html#a002e408df78fc5e7e744ba1bc2d0e819">old_anchor_</a>;  <span class="comment">// anchor of the second to last period</span></div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a5a146cb6f4a63454cf294d68191146c4">  245</a></span>&#160;  uint64_t <a class="code" href="group___d_a_g.html#a5a146cb6f4a63454cf294d68191146c4">period_</a>;        <span class="comment">// last period</span></div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a9b4105dc415f6f1169f537a9c662c914">  246</a></span>&#160;  std::map&lt;uint64_t, std::unordered_set&lt;blk_hash_t&gt;&gt; <a class="code" href="group___d_a_g.html#a9b4105dc415f6f1169f537a9c662c914">non_finalized_blks_</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="group___d_a_g.html#aa8ecef50260ac0b2b2da330f53fb42c2">  247</a></span>&#160;  <a class="code" href="structtaraxa_1_1_dag_frontier.html">DagFrontier</a> <a class="code" href="group___d_a_g.html#aa8ecef50260ac0b2b2da330f53fb42c2">frontier_</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a9642bf023edd7084fcd0d7353fb93f81">  248</a></span>&#160;  <a class="code" href="group___d_a_g.html#classtaraxa_1_1_sortition_params_manager">SortitionParamsManager</a> <a class="code" href="group___d_a_g.html#a9642bf023edd7084fcd0d7353fb93f81">sortition_params_manager_</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="group___d_a_g.html#aa3697762b635b69a447e105984f20482">  249</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structtaraxa_1_1_dag_config.html">DagConfig</a> <a class="code" href="group___d_a_g.html#aa3697762b635b69a447e105984f20482">dag_config_</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a304bc3dd4e16a2e6fe824960998fa85c">  251</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="group___d_a_g.html#a304bc3dd4e16a2e6fe824960998fa85c">is_light_node_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a9da5c3fb13e2ae292e70a030efdfbdec">  252</a></span>&#160;  <span class="keyword">const</span> uint64_t <a class="code" href="group___d_a_g.html#a9da5c3fb13e2ae292e70a030efdfbdec">light_node_history_</a> = 0;</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a07187ee4b316918016d048c7c48d14f7">  253</a></span>&#160;  <span class="keyword">const</span> uint32_t <a class="code" href="group___d_a_g.html#a07187ee4b316918016d048c7c48d14f7">max_levels_per_period_</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a6dc29019c4f006c91f4831b2e4f43162">  254</a></span>&#160;  <span class="keyword">const</span> uint32_t <a class="code" href="group___d_a_g.html#a6dc29019c4f006c91f4831b2e4f43162">dag_expiry_limit_</a>;  <span class="comment">// Any non finalized dag block with a level smaller by</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// dag_expiry_limit_ than the current period anchor level is considered</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="comment">// expired and it should be ignored or removed from DAG</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a7c5c2559e31fc397527a42cbdfa20128">  258</a></span>&#160;  std::atomic_uint64_t <a class="code" href="group___d_a_g.html#a7c5c2559e31fc397527a42cbdfa20128">dag_expiry_level_</a> =</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      0;  <span class="comment">// Level below which dag blocks are considered expired, it&#39;s value is</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;          <span class="comment">// always current anchor level minus dag_expiry_limit_ of non empty pbft periods</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="group___d_a_g.html#add633db15e04c6e237cdefdea21cd465">  262</a></span>&#160;  <span class="keyword">const</span> uint32_t <a class="code" href="group___d_a_g.html#add633db15e04c6e237cdefdea21cd465">cache_max_size_</a> = 10000;</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a8a5501aae6db9f6a2e22ab2d12a7e962">  263</a></span>&#160;  <span class="keyword">const</span> uint32_t <a class="code" href="group___d_a_g.html#a8a5501aae6db9f6a2e22ab2d12a7e962">cache_delete_step_</a> = 100;</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="group___d_a_g.html#a9882c7cb659923bc340e19ec1031eae6">  264</a></span>&#160;  <a class="code" href="class_expiration_cache_map.html">ExpirationCacheMap&lt;blk_hash_t, DagBlock&gt;</a> <a class="code" href="group___d_a_g.html#a9882c7cb659923bc340e19ec1031eae6">seen_blocks_</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="group___d_a_g.html#aa495661e7bb6c853172edf4311e86da8">  265</a></span>&#160;  std::shared_ptr&lt;FinalChain&gt; <a class="code" href="group___d_a_g.html#aa495661e7bb6c853172edf4311e86da8">final_chain_</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <a class="code" href="logger_8hpp.html#a41399a11426ea3272948aca283625fb5">LOG_OBJECTS_DEFINE</a></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;};</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}  <span class="comment">// namespace taraxa</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup___d_a_g_html_a07187ee4b316918016d048c7c48d14f7"><div class="ttname"><a href="group___d_a_g.html#a07187ee4b316918016d048c7c48d14f7">taraxa::DagManager::max_levels_per_period_</a></div><div class="ttdeci">const uint32_t max_levels_per_period_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:253</div></div>
<div class="ttc" id="agroup___d_a_g_html_a62e092771ea64e24a726828460fdefd2"><div class="ttname"><a href="group___d_a_g.html#a62e092771ea64e24a726828460fdefd2">taraxa::DagManager::validateBlockNotExpired</a></div><div class="ttdeci">bool validateBlockNotExpired(const std::shared_ptr&lt; DagBlock &gt; &amp;dag_block, std::unordered_map&lt; blk_hash_t, std::shared_ptr&lt; DagBlock &gt;&gt; &amp;expired_dag_blocks_to_remove)</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:418</div></div>
<div class="ttc" id="aclass_expiration_cache_map_html"><div class="ttname"><a href="class_expiration_cache_map.html">ExpirationCacheMap</a></div><div class="ttdef"><b>Definition:</b> util.hpp:287</div></div>
<div class="ttc" id="alogger_8hpp_html_a41399a11426ea3272948aca283625fb5"><div class="ttname"><a href="logger_8hpp.html#a41399a11426ea3272948aca283625fb5">LOG_OBJECTS_DEFINE</a></div><div class="ttdeci">#define LOG_OBJECTS_DEFINE</div><div class="ttdef"><b>Definition:</b> logger.hpp:61</div></div>
<div class="ttc" id="agroup___d_a_g_html_a4338078fd5288067701b3f276076c01a"><div class="ttname"><a href="group___d_a_g.html#a4338078fd5288067701b3f276076c01a">taraxa::DagManager::drawGraph</a></div><div class="ttdeci">void drawGraph(std::string const &amp;dotfile) const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:189</div></div>
<div class="ttc" id="agroup___d_a_g_html_a1f6e18555f5e2ced0d3d3ab64d8b0065"><div class="ttname"><a href="group___d_a_g.html#a1f6e18555f5e2ced0d3d3ab64d8b0065">taraxa::DagManager::clearLightNodeHistory</a></div><div class="ttdeci">void clearLightNodeHistory()</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:282</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484a3f68e67dc6c397aaa9d1c24c356f754f"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a3f68e67dc6c397aaa9d1c24c356f754f">taraxa::DagManager::VerifyBlockReturnType::Verified</a></div><div class="ttdeci">@ Verified</div></div>
<div class="ttc" id="agroup___d_a_g_html_a9da5c3fb13e2ae292e70a030efdfbdec"><div class="ttname"><a href="group___d_a_g.html#a9da5c3fb13e2ae292e70a030efdfbdec">taraxa::DagManager::light_node_history_</a></div><div class="ttdeci">const uint64_t light_node_history_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:252</div></div>
<div class="ttc" id="agroup___d_a_g_html_a478ed805801b09b4d80b940473840822"><div class="ttname"><a href="group___d_a_g.html#a478ed805801b09b4d80b940473840822">taraxa::DagManager::isDagBlockKnown</a></div><div class="ttdeci">bool isDagBlockKnown(const blk_hash_t &amp;hash) const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:636</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484a916ec32bed391fc1def53a8e263ec400"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a916ec32bed391fc1def53a8e263ec400">taraxa::DagManager::VerifyBlockReturnType::NotEligible</a></div><div class="ttdeci">@ NotEligible</div></div>
<div class="ttc" id="anamespacetaraxa_html_ab2f5ec0c8b9d91b604a61ca8062d0505"><div class="ttname"><a href="namespacetaraxa.html#ab2f5ec0c8b9d91b604a61ca8062d0505">taraxa::kMaxLevelsPerPeriod</a></div><div class="ttdeci">constexpr uint16_t kMaxLevelsPerPeriod</div><div class="ttdef"><b>Definition:</b> constants.hpp:19</div></div>
<div class="ttc" id="agroup___d_a_g_html_a533013d07f063bab25ea190511b54c86"><div class="ttname"><a href="group___d_a_g.html#a533013d07f063bab25ea190511b54c86">taraxa::DagManager::total_dag_</a></div><div class="ttdeci">std::shared_ptr&lt; Dag &gt; total_dag_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:237</div></div>
<div class="ttc" id="agroup___d_a_g_html_a6dc29019c4f006c91f4831b2e4f43162"><div class="ttname"><a href="group___d_a_g.html#a6dc29019c4f006c91f4831b2e4f43162">taraxa::DagManager::dag_expiry_limit_</a></div><div class="ttdeci">const uint32_t dag_expiry_limit_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:254</div></div>
<div class="ttc" id="agroup___d_a_g_html_aff9a70ff9192904a1c033c6ecb3c89c6"><div class="ttname"><a href="group___d_a_g.html#aff9a70ff9192904a1c033c6ecb3c89c6">taraxa::DagManager::getLatestPivotAndTips</a></div><div class="ttdeci">std::optional&lt; std::pair&lt; blk_hash_t, std::vector&lt; blk_hash_t &gt; &gt; &gt; getLatestPivotAndTips() const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:210</div></div>
<div class="ttc" id="agroup___d_a_g_html_af03ed62a5da2149160bf80318f94fc17"><div class="ttname"><a href="group___d_a_g.html#af03ed62a5da2149160bf80318f94fc17">taraxa::DagManager::addDagBlock</a></div><div class="ttdeci">std::pair&lt; bool, std::vector&lt; blk_hash_t &gt; &gt; addDagBlock(DagBlock &amp;&amp;blk, SharedTransactions &amp;&amp;trxs={}, bool proposed=false, bool save=true)</div><div class="ttdoc">adds verified DAG block in the DAG</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:133</div></div>
<div class="ttc" id="agroup___d_a_g_html_a5726a38bbb3271e14ec85634207704ef"><div class="ttname"><a href="group___d_a_g.html#a5726a38bbb3271e14ec85634207704ef">taraxa::DagManager::operator=</a></div><div class="ttdeci">DagManager &amp; operator=(const DagManager &amp;)=delete</div></div>
<div class="ttc" id="anamespacetaraxa_html_ac29ce7c6f0fae63e548b523170910526"><div class="ttname"><a href="namespacetaraxa.html#ac29ce7c6f0fae63e548b523170910526">taraxa::level_t</a></div><div class="ttdeci">uint64_t level_t</div><div class="ttdef"><b>Definition:</b> types.hpp:61</div></div>
<div class="ttc" id="agroup___d_a_g_html_a2743a075e35d45823238cf5d540e69d1"><div class="ttname"><a href="group___d_a_g.html#a2743a075e35d45823238cf5d540e69d1">taraxa::DagManager::verifyBlock</a></div><div class="ttdeci">VerifyBlockReturnType verifyBlock(const DagBlock &amp;blk)</div><div class="ttdoc">Verifies new DAG block.</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:556</div></div>
<div class="ttc" id="agroup___d_a_g_html_a9642bf023edd7084fcd0d7353fb93f81"><div class="ttname"><a href="group___d_a_g.html#a9642bf023edd7084fcd0d7353fb93f81">taraxa::DagManager::sortition_params_manager_</a></div><div class="ttdeci">SortitionParamsManager sortition_params_manager_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:248</div></div>
<div class="ttc" id="agroup___d_a_g_html_a6957731509338e71d5f995fa8e68869b"><div class="ttname"><a href="group___d_a_g.html#a6957731509338e71d5f995fa8e68869b">taraxa::DagManager::order_dag_blocks_mutex_</a></div><div class="ttdeci">std::shared_mutex order_dag_blocks_mutex_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:235</div></div>
<div class="ttc" id="agroup___d_a_g_html_add633db15e04c6e237cdefdea21cd465"><div class="ttname"><a href="group___d_a_g.html#add633db15e04c6e237cdefdea21cd465">taraxa::DagManager::cache_max_size_</a></div><div class="ttdeci">const uint32_t cache_max_size_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:262</div></div>
<div class="ttc" id="agroup___d_a_g_html_aa495661e7bb6c853172edf4311e86da8"><div class="ttname"><a href="group___d_a_g.html#aa495661e7bb6c853172edf4311e86da8">taraxa::DagManager::final_chain_</a></div><div class="ttdeci">std::shared_ptr&lt; FinalChain &gt; final_chain_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:265</div></div>
<div class="ttc" id="agroup___d_a_g_html_a72081dbb8a3e1375f42994c59343a014"><div class="ttname"><a href="group___d_a_g.html#a72081dbb8a3e1375f42994c59343a014">taraxa::DagManager::sortitionParamsManager</a></div><div class="ttdeci">SortitionParamsManager &amp; sortitionParamsManager()</div><div class="ttdoc">Retrieves sortition manager.</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:206</div></div>
<div class="ttc" id="agroup___d_a_g_html_a438a9cce146f37209702173a90707322"><div class="ttname"><a href="group___d_a_g.html#a438a9cce146f37209702173a90707322">taraxa::DagManager::SharedLock</a></div><div class="ttdeci">std::shared_lock&lt; std::shared_mutex &gt; SharedLock</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:46</div></div>
<div class="ttc" id="agroup___d_a_g_html_af7d366daea2ee9fd3672a7d8b149d76d"><div class="ttname"><a href="group___d_a_g.html#af7d366daea2ee9fd3672a7d8b149d76d">taraxa::DagManager::getLatestPeriod</a></div><div class="ttdeci">uint64_t getLatestPeriod() const</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:157</div></div>
<div class="ttc" id="agroup___d_a_g_html_ad4d06db8dc0082eb99625e3fe763a90d"><div class="ttname"><a href="group___d_a_g.html#ad4d06db8dc0082eb99625e3fe763a90d">taraxa::DagManager::getDagExpiryLimit</a></div><div class="ttdeci">uint32_t getDagExpiryLimit() const</div><div class="ttdoc">Retrieves Dag expiry limit.</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:171</div></div>
<div class="ttc" id="agroup___d_a_g_html_a99448cc8bd26b6cb6493f4167a8d45e5"><div class="ttname"><a href="group___d_a_g.html#a99448cc8bd26b6cb6493f4167a8d45e5">taraxa::DagManager::getAnchors</a></div><div class="ttdeci">std::pair&lt; blk_hash_t, blk_hash_t &gt; getAnchors() const</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:161</div></div>
<div class="ttc" id="agroup___d_a_g_html_a8df95cccdea775300aec10f65ab0cdea"><div class="ttname"><a href="group___d_a_g.html#a8df95cccdea775300aec10f65ab0cdea">taraxa::DagManager::db_</a></div><div class="ttdeci">std::shared_ptr&lt; DbStorage &gt; db_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:241</div></div>
<div class="ttc" id="agroup___d_a_g_html_a9a2851fc95fa8d2e023a3ba82d42610b"><div class="ttname"><a href="group___d_a_g.html#a9a2851fc95fa8d2e023a3ba82d42610b">taraxa::DagManager::mutex_</a></div><div class="ttdeci">std::shared_mutex mutex_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:234</div></div>
<div class="ttc" id="adag_8hpp_html"><div class="ttname"><a href="dag_8hpp.html">dag.hpp</a></div></div>
<div class="ttc" id="aclasstaraxa_1_1_dag_block_html"><div class="ttname"><a href="classtaraxa_1_1_dag_block.html">taraxa::DagBlock</a></div><div class="ttdoc">DagBlock class is a DAG block class which main data is a list of transaction hashes included in the b...</div><div class="ttdef"><b>Definition:</b> dag_block.hpp:16</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484a0f00a32181260e84100676ad87f7b484"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a0f00a32181260e84100676ad87f7b484">taraxa::DagManager::VerifyBlockReturnType::FailedVdfVerification</a></div><div class="ttdeci">@ FailedVdfVerification</div></div>
<div class="ttc" id="agroup___d_a_g_html_a24126b789e44798ff62e6f7504ee659f"><div class="ttname"><a href="group___d_a_g.html#a24126b789e44798ff62e6f7504ee659f">taraxa::DagManager::key_manager_</a></div><div class="ttdeci">std::shared_ptr&lt; KeyManager &gt; key_manager_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:242</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484a122320ab35a2188727e599b3cc61d72f"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a122320ab35a2188727e599b3cc61d72f">taraxa::DagManager::VerifyBlockReturnType::IncorrectTransactionsEstimation</a></div><div class="ttdeci">@ IncorrectTransactionsEstimation</div></div>
<div class="ttc" id="aclasstaraxa_1_1util_1_1event_1_1_event_html"><div class="ttname"><a href="classtaraxa_1_1util_1_1event_1_1_event.html">taraxa::util::event::Event</a></div><div class="ttdef"><b>Definition:</b> event.hpp:60</div></div>
<div class="ttc" id="agroup___d_a_g_html_a05d925eccd7403ab607e5f70793c19e0"><div class="ttname"><a href="group___d_a_g.html#a05d925eccd7403ab607e5f70793c19e0">taraxa::DagManager::handleExpiredDagBlocksTransactions</a></div><div class="ttdeci">void handleExpiredDagBlocksTransactions(const std::vector&lt; trx_hash_t &gt; &amp;transactions_from_expired_dag_blocks) const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:394</div></div>
<div class="ttc" id="aclassdev_1_1_fixed_hash_html"><div class="ttname"><a href="classdev_1_1_fixed_hash.html">dev::FixedHash&lt; 32 &gt;</a></div></div>
<div class="ttc" id="astructtaraxa_1_1_dag_config_html"><div class="ttname"><a href="structtaraxa_1_1_dag_config.html">taraxa::DagConfig</a></div><div class="ttdef"><b>Definition:</b> dag_config.hpp:17</div></div>
<div class="ttc" id="anamespacetaraxa_html_a18f2be82043dcbbfbeacec4cf953366e"><div class="ttname"><a href="namespacetaraxa.html#a18f2be82043dcbbfbeacec4cf953366e">taraxa::SharedTransactions</a></div><div class="ttdeci">::std::vector&lt; std::shared_ptr&lt; Transaction &gt; &gt; SharedTransactions</div><div class="ttdef"><b>Definition:</b> transaction.hpp:73</div></div>
<div class="ttc" id="agroup___d_a_g_html_a9882c7cb659923bc340e19ec1031eae6"><div class="ttname"><a href="group___d_a_g.html#a9882c7cb659923bc340e19ec1031eae6">taraxa::DagManager::seen_blocks_</a></div><div class="ttdeci">ExpirationCacheMap&lt; blk_hash_t, DagBlock &gt; seen_blocks_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:264</div></div>
<div class="ttc" id="agroup___d_a_g_html_a26e0a681af13a71389017ec973237625"><div class="ttname"><a href="group___d_a_g.html#a26e0a681af13a71389017ec973237625">taraxa::DagManager::getNonFinalizedBlocks</a></div><div class="ttdeci">const std::pair&lt; uint64_t, std::map&lt; uint64_t, std::unordered_set&lt; blk_hash_t &gt; &gt; &gt; getNonFinalizedBlocks() const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:510</div></div>
<div class="ttc" id="agroup___d_a_g_html_a71166948658c55df76218ab2d7a45e60"><div class="ttname"><a href="group___d_a_g.html#a71166948658c55df76218ab2d7a45e60">taraxa::DagManager::getDagConfig</a></div><div class="ttdeci">const DagConfig &amp; getDagConfig() const</div><div class="ttdoc">Retrieves Dag config.</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:213</div></div>
<div class="ttc" id="agroup___d_a_g_html_a9cf1a5a8f6925a71885b319ed46d64af"><div class="ttname"><a href="group___d_a_g.html#a9cf1a5a8f6925a71885b319ed46d64af">taraxa::DagManager::getNumVerticesInDag</a></div><div class="ttdeci">std::pair&lt; uint64_t, uint64_t &gt; getNumVerticesInDag() const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:71</div></div>
<div class="ttc" id="agroup___d_a_g_html_a8656ca582249ed982d06e8d640b9f55a"><div class="ttname"><a href="group___d_a_g.html#a8656ca582249ed982d06e8d640b9f55a">taraxa::DagManager::getNonFinalizedBlocksWithTransactions</a></div><div class="ttdeci">const std::tuple&lt; uint64_t, std::vector&lt; std::shared_ptr&lt; DagBlock &gt; &gt;, SharedTransactions &gt; getNonFinalizedBlocksWithTransactions(const std::unordered_set&lt; blk_hash_t &gt; &amp;known_hashes) const</div><div class="ttdoc">Retrieves current period together with non finalized blocks with the unique list of non finalized tra...</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:517</div></div>
<div class="ttc" id="agroup___d_a_g_html_aa8ecef50260ac0b2b2da330f53fb42c2"><div class="ttname"><a href="group___d_a_g.html#aa8ecef50260ac0b2b2da330f53fb42c2">taraxa::DagManager::frontier_</a></div><div class="ttdeci">DagFrontier frontier_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:247</div></div>
<div class="ttc" id="agroup___d_a_g_html_a23675378f56c0682bf619875e3d1e338"><div class="ttname"><a href="group___d_a_g.html#a23675378f56c0682bf619875e3d1e338">taraxa::DagManager::pivot_tree_</a></div><div class="ttdeci">std::shared_ptr&lt; PivotTree &gt; pivot_tree_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:236</div></div>
<div class="ttc" id="agroup___d_a_g_html_accce6887253aa2f9c2dbf966249d1c1e"><div class="ttname"><a href="group___d_a_g.html#accce6887253aa2f9c2dbf966249d1c1e">taraxa::DagManager::getLightNodeHistory</a></div><div class="ttdeci">uint64_t getLightNodeHistory() const</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:126</div></div>
<div class="ttc" id="agroup___d_a_g_html_a5a146cb6f4a63454cf294d68191146c4"><div class="ttname"><a href="group___d_a_g.html#a5a146cb6f4a63454cf294d68191146c4">taraxa::DagManager::period_</a></div><div class="ttdeci">uint64_t period_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:245</div></div>
<div class="ttc" id="agroup___d_a_g_html_a7c5c2559e31fc397527a42cbdfa20128"><div class="ttname"><a href="group___d_a_g.html#a7c5c2559e31fc397527a42cbdfa20128">taraxa::DagManager::dag_expiry_level_</a></div><div class="ttdeci">std::atomic_uint64_t dag_expiry_level_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:258</div></div>
<div class="ttc" id="agroup___d_a_g_html_af0b8ed0231d112b87ebde613de0d53c9"><div class="ttname"><a href="group___d_a_g.html#af0b8ed0231d112b87ebde613de0d53c9">taraxa::DagManager::getDagBlockOrder</a></div><div class="ttdeci">vec_blk_t getDagBlockOrder(blk_hash_t const &amp;anchor, uint64_t period)</div><div class="ttdoc">Retrieves DAG block order for specified anchor. Order should always be the same for the same anchor i...</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:254</div></div>
<div class="ttc" id="atransaction__manager_8hpp_html"><div class="ttname"><a href="transaction__manager_8hpp.html">transaction_manager.hpp</a></div></div>
<div class="ttc" id="anamespacetaraxa_html_a55e7078ff4a35de49d82da478b6d135b"><div class="ttname"><a href="namespacetaraxa.html#a55e7078ff4a35de49d82da478b6d135b">taraxa::blk_hash_t</a></div><div class="ttdeci">uint256_hash_t blk_hash_t</div><div class="ttdef"><b>Definition:</b> types.hpp:55</div></div>
<div class="ttc" id="anamespacetaraxa_html_ad71e68c4976b8c6ed7407682d06505ab"><div class="ttname"><a href="namespacetaraxa.html#ad71e68c4976b8c6ed7407682d06505ab">taraxa::kDagExpiryLevelLimit</a></div><div class="ttdeci">constexpr uint32_t kDagExpiryLevelLimit</div><div class="ttdef"><b>Definition:</b> constants.hpp:20</div></div>
<div class="ttc" id="agroup___d_a_g_html_a94f485fa25235a24f8ce24aaf061fa6f"><div class="ttname"><a href="group___d_a_g.html#a94f485fa25235a24f8ce24aaf061fa6f">taraxa::DagManager::isLightNode</a></div><div class="ttdeci">bool isLightNode() const</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:127</div></div>
<div class="ttc" id="anamespacetaraxa_html"><div class="ttname"><a href="namespacetaraxa.html">taraxa</a></div><div class="ttdef"><b>Definition:</b> config.hpp:9</div></div>
<div class="ttc" id="agroup___d_a_g_html_a029c23493b0db3bf8f2a1279df404b7e"><div class="ttname"><a href="group___d_a_g.html#a029c23493b0db3bf8f2a1279df404b7e">taraxa::DagManager::getDagExpiryLevel</a></div><div class="ttdeci">uint64_t getDagExpiryLevel()</div><div class="ttdoc">Retrieves Dag expiry level.</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:220</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484a6650939da54b7c46c8dd6642277e0a6e"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a6650939da54b7c46c8dd6642277e0a6e">taraxa::DagManager::VerifyBlockReturnType::MissingTransaction</a></div><div class="ttdeci">@ MissingTransaction</div></div>
<div class="ttc" id="agroup___d_a_g_html_add5a435648a429250f1ce54dc8b0ec63"><div class="ttname"><a href="group___d_a_g.html#add5a435648a429250f1ce54dc8b0ec63">taraxa::DagManager::recoverDag</a></div><div class="ttdeci">void recoverDag()</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:443</div></div>
<div class="ttc" id="agroup___d_a_g_html_a56e52dad59ae0107beb964b6d7fe857a"><div class="ttname"><a href="group___d_a_g.html#a56e52dad59ae0107beb964b6d7fe857a">taraxa::DagManager::anchor_</a></div><div class="ttdeci">blk_hash_t anchor_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:243</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484a06535ac2c9072d85020c37c87ff13ff4"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a06535ac2c9072d85020c37c87ff13ff4">taraxa::DagManager::VerifyBlockReturnType::FutureBlock</a></div><div class="ttdeci">@ FutureBlock</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484ac300941b40429dd6b0c4938610fe57e9"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484ac300941b40429dd6b0c4938610fe57e9">taraxa::DagManager::VerifyBlockReturnType::AheadBlock</a></div><div class="ttdeci">@ AheadBlock</div></div>
<div class="ttc" id="agroup___d_a_g_html_af5488b8f21a5009586fa096a05867aa4"><div class="ttname"><a href="group___d_a_g.html#af5488b8f21a5009586fa096a05867aa4">taraxa::DagManager::getFrontier</a></div><div class="ttdeci">std::pair&lt; blk_hash_t, std::vector&lt; blk_hash_t &gt; &gt; getFrontier() const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:215</div></div>
<div class="ttc" id="agroup___d_a_g_html_aa8d1eb570a2cba814ff88f3500fe3fa1"><div class="ttname"><a href="group___d_a_g.html#aa8d1eb570a2cba814ff88f3500fe3fa1">taraxa::DagManager::getShared</a></div><div class="ttdeci">std::shared_ptr&lt; DagManager &gt; getShared()</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:62</div></div>
<div class="ttc" id="agroup___d_a_g_html_abce853c7b3f9c2ad1d7f8f645573254a"><div class="ttname"><a href="group___d_a_g.html#abce853c7b3f9c2ad1d7f8f645573254a">taraxa::DagManager::getDagBlock</a></div><div class="ttdeci">std::shared_ptr&lt; DagBlock &gt; getDagBlock(const blk_hash_t &amp;hash) const</div><div class="ttdoc">Gets dag block from either local memory cache or db.</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:644</div></div>
<div class="ttc" id="anamespacetaraxa_html_a3b0dfef1d0e54a4410d95b131a6203b3"><div class="ttname"><a href="namespacetaraxa.html#a3b0dfef1d0e54a4410d95b131a6203b3">taraxa::vec_blk_t</a></div><div class="ttdeci">std::vector&lt; blk_hash_t &gt; vec_blk_t</div><div class="ttdef"><b>Definition:</b> types.hpp:66</div></div>
<div class="ttc" id="agroup___d_a_g_html_a304bc3dd4e16a2e6fe824960998fa85c"><div class="ttname"><a href="group___d_a_g.html#a304bc3dd4e16a2e6fe824960998fa85c">taraxa::DagManager::is_light_node_</a></div><div class="ttdeci">const bool is_light_node_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:251</div></div>
<div class="ttc" id="agroup___d_a_g_html_ab633081885d6c5821e3517ca150e575d"><div class="ttname"><a href="group___d_a_g.html#ab633081885d6c5821e3517ca150e575d">taraxa::DagManager::getMaxLevel</a></div><div class="ttdeci">level_t getMaxLevel() const</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:154</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3ad66a8821cad052ce8b4ebb7016e804"><div class="ttname"><a href="group___d_a_g.html#a3ad66a8821cad052ce8b4ebb7016e804">taraxa::DagManager::pbft_chain_</a></div><div class="ttdeci">std::shared_ptr&lt; PbftChain &gt; pbft_chain_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:239</div></div>
<div class="ttc" id="agroup___d_a_g_html_a77daf30c3c77830f8fbaeebd0ff02b16"><div class="ttname"><a href="group___d_a_g.html#a77daf30c3c77830f8fbaeebd0ff02b16">taraxa::DagManager::DagManager</a></div><div class="ttdeci">DagManager(blk_hash_t const &amp;dag_genesis_block_hash, addr_t node_addr, const SortitionConfig &amp;sortition_config, const DagConfig &amp;dag_config, std::shared_ptr&lt; TransactionManager &gt; trx_mgr, std::shared_ptr&lt; PbftChain &gt; pbft_chain, std::shared_ptr&lt; FinalChain &gt; final_chain, std::shared_ptr&lt; DbStorage &gt; db, std::shared_ptr&lt; KeyManager &gt; key_manager, bool is_light_node=false, uint64_t light_node_history=0, uint32_t max_levels_per_period=kMaxLevelsPerPeriod, uint32_t dag_expiry_limit=kDagExpiryLevelLimit)</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:23</div></div>
<div class="ttc" id="agroup___d_a_g_html_a99789a24775424e2a83effd8e6b1b2c8"><div class="ttname"><a href="group___d_a_g.html#a99789a24775424e2a83effd8e6b1b2c8">taraxa::DagManager::getDagMutex</a></div><div class="ttdeci">std::shared_mutex &amp; getDagMutex()</div><div class="ttdoc">Retrieves Dag Manager mutex, only to be used when finalizing pbft block.</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:199</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484a62018b502a00304fc02337ba19cdba0c"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a62018b502a00304fc02337ba19cdba0c">taraxa::DagManager::VerifyBlockReturnType::ExpiredBlock</a></div><div class="ttdeci">@ ExpiredBlock</div></div>
<div class="ttc" id="agroup___d_a_g_html_ab34b96991cbcfd2f72be34a8813ca335"><div class="ttname"><a href="group___d_a_g.html#ab34b96991cbcfd2f72be34a8813ca335">taraxa::DagManager::max_level_</a></div><div class="ttdeci">std::atomic&lt; level_t &gt; max_level_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:233</div></div>
<div class="ttc" id="agroup___d_a_g_html_classtaraxa_1_1_dag_manager"><div class="ttname"><a href="group___d_a_g.html#classtaraxa_1_1_dag_manager">taraxa::DagManager</a></div><div class="ttdoc">DagManager class contains in memory representation of part of the DAG that is not yet finalized in a ...</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:28</div></div>
<div class="ttc" id="agroup___d_a_g_html_a48dff2f0634ce367582074273414ce44"><div class="ttname"><a href="group___d_a_g.html#a48dff2f0634ce367582074273414ce44">taraxa::DagManager::updateFrontier</a></div><div class="ttdeci">void updateFrontier()</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:232</div></div>
<div class="ttc" id="agroup___d_a_g_html_a002e408df78fc5e7e744ba1bc2d0e819"><div class="ttname"><a href="group___d_a_g.html#a002e408df78fc5e7e744ba1bc2d0e819">taraxa::DagManager::old_anchor_</a></div><div class="ttdeci">blk_hash_t old_anchor_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:244</div></div>
<div class="ttc" id="apbft__chain_8hpp_html"><div class="ttname"><a href="pbft__chain_8hpp.html">pbft_chain.hpp</a></div></div>
<div class="ttc" id="agroup___d_a_g_html_a2b6094bb212edeb2dcba6476d91c62c2"><div class="ttname"><a href="group___d_a_g.html#a2b6094bb212edeb2dcba6476d91c62c2">taraxa::DagManager::trx_mgr_</a></div><div class="ttdeci">std::shared_ptr&lt; TransactionManager &gt; trx_mgr_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:238</div></div>
<div class="ttc" id="agroup___d_a_g_html_a4ab4fb411fe6447b8a556a53c1ea700c"><div class="ttname"><a href="group___d_a_g.html#a4ab4fb411fe6447b8a556a53c1ea700c">taraxa::DagManager::drawTotalGraph</a></div><div class="ttdeci">void drawTotalGraph(std::string const &amp;str) const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:81</div></div>
<div class="ttc" id="astorage_8hpp_html"><div class="ttname"><a href="storage_8hpp.html">storage.hpp</a></div></div>
<div class="ttc" id="astructtaraxa_1_1_sortition_config_html"><div class="ttname"><a href="structtaraxa_1_1_sortition_config.html">taraxa::SortitionConfig</a></div><div class="ttdef"><b>Definition:</b> config.hpp:46</div></div>
<div class="ttc" id="agroup___d_a_g_html_a847af2af7e5e6f9b2e09ad71d21e92ad"><div class="ttname"><a href="group___d_a_g.html#a847af2af7e5e6f9b2e09ad71d21e92ad">taraxa::DagManager::getNonFinalizedBlocksSize</a></div><div class="ttdeci">std::pair&lt; size_t, size_t &gt; getNonFinalizedBlocksSize() const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:545</div></div>
<div class="ttc" id="agroup___d_a_g_html_a6358aeccb8b0ed554c321dda03a02768"><div class="ttname"><a href="group___d_a_g.html#a6358aeccb8b0ed554c321dda03a02768">taraxa::DagManager::drawPivotGraph</a></div><div class="ttdeci">void drawPivotGraph(std::string const &amp;str) const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:86</div></div>
<div class="ttc" id="agroup___d_a_g_html_a45ba709af4dcfcac0d71bc458f407a2a"><div class="ttname"><a href="group___d_a_g.html#a45ba709af4dcfcac0d71bc458f407a2a">taraxa::DagManager::getNumEdgesInDag</a></div><div class="ttdeci">std::pair&lt; uint64_t, uint64_t &gt; getNumEdgesInDag() const</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:76</div></div>
<div class="ttc" id="agroup___d_a_g_html_a8a5501aae6db9f6a2e22ab2d12a7e962"><div class="ttname"><a href="group___d_a_g.html#a8a5501aae6db9f6a2e22ab2d12a7e962">taraxa::DagManager::cache_delete_step_</a></div><div class="ttdeci">const uint32_t cache_delete_step_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:263</div></div>
<div class="ttc" id="agroup___d_a_g_html_a1fd6e17ecfef8a80f9c0d6b9629229c9"><div class="ttname"><a href="group___d_a_g.html#a1fd6e17ecfef8a80f9c0d6b9629229c9">taraxa::DagManager::getGhostPath</a></div><div class="ttdeci">void getGhostPath(blk_hash_t const &amp;source, std::vector&lt; blk_hash_t &gt; &amp;ghost) const</div><div class="ttdoc">Retrieves ghost path which is ordered list of non finalized pivot blocks for a specific source block.</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:241</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3935e897459f808552ad22fa79fdae84"><div class="ttname"><a href="group___d_a_g.html#a3935e897459f808552ad22fa79fdae84">taraxa::DagManager::block_verified_</a></div><div class="ttdeci">const util::Event&lt; DagManager, DagBlock &gt; block_verified_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:192</div></div>
<div class="ttc" id="agroup___d_a_g_html_acb2407e8a252a080510732b64195c1ce"><div class="ttname"><a href="group___d_a_g.html#acb2407e8a252a080510732b64195c1ce">taraxa::DagManager::getDagFrontier</a></div><div class="ttdeci">DagFrontier getDagFrontier()</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:128</div></div>
<div class="ttc" id="asortition__params__manager_8hpp_html"><div class="ttname"><a href="sortition__params__manager_8hpp.html">sortition_params_manager.hpp</a></div></div>
<div class="ttc" id="agroup___d_a_g_html_a9b4105dc415f6f1169f537a9c662c914"><div class="ttname"><a href="group___d_a_g.html#a9b4105dc415f6f1169f537a9c662c914">taraxa::DagManager::non_finalized_blks_</a></div><div class="ttdeci">std::map&lt; uint64_t, std::unordered_set&lt; blk_hash_t &gt; &gt; non_finalized_blks_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:246</div></div>
<div class="ttc" id="agroup___d_a_g_html_ae531eee634d1d0d5bad60586dc5bbc89"><div class="ttname"><a href="group___d_a_g.html#ae531eee634d1d0d5bad60586dc5bbc89">taraxa::DagManager::addToDag</a></div><div class="ttdeci">void addToDag(blk_hash_t const &amp;hash, blk_hash_t const &amp;pivot, std::vector&lt; blk_hash_t &gt; const &amp;tips, uint64_t level, bool finalized=false)</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:195</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484">taraxa::DagManager::VerifyBlockReturnType</a></div><div class="ttdeci">VerifyBlockReturnType</div><div class="ttdoc">return type of verifyBlock</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:33</div></div>
<div class="ttc" id="agroup___d_a_g_html_afd43873f7de88687241db2e74a431966"><div class="ttname"><a href="group___d_a_g.html#afd43873f7de88687241db2e74a431966">taraxa::DagManager::pivotAndTipsAvailable</a></div><div class="ttdeci">std::pair&lt; bool, std::vector&lt; blk_hash_t &gt; &gt; pivotAndTipsAvailable(DagBlock const &amp;blk)</div><div class="ttdoc">Checks if block pivot and tips are in DAG.</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:91</div></div>
<div class="ttc" id="agroup___d_a_g_html_a33f6170a6c7af4d2e3b6d5c374a042fd"><div class="ttname"><a href="group___d_a_g.html#a33f6170a6c7af4d2e3b6d5c374a042fd">taraxa::DagManager::setNetwork</a></div><div class="ttdeci">void setNetwork(std::weak_ptr&lt; Network &gt; network)</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:63</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3445d6e089f93e4e521fb98a0699d484a6acb71e475d0aaa76f18fde586c6d6db"><div class="ttname"><a href="group___d_a_g.html#a3445d6e089f93e4e521fb98a0699d484a6acb71e475d0aaa76f18fde586c6d6db">taraxa::DagManager::VerifyBlockReturnType::BlockTooBig</a></div><div class="ttdeci">@ BlockTooBig</div></div>
<div class="ttc" id="agroup___d_a_g_html_a49f52344243b58d06c2a21f59c19788d"><div class="ttname"><a href="group___d_a_g.html#a49f52344243b58d06c2a21f59c19788d">taraxa::DagManager::setDagBlockOrder</a></div><div class="ttdeci">uint setDagBlockOrder(blk_hash_t const &amp;anchor, uint64_t period, vec_blk_t const &amp;dag_order)</div><div class="ttdoc">Sets the dag block order on finalizing PBFT block IMPORTANT: This method is invoked on finalizing a p...</div><div class="ttdef"><b>Definition:</b> dag_manager.cpp:301</div></div>
<div class="ttc" id="agroup___d_a_g_html_classtaraxa_1_1_sortition_params_manager"><div class="ttname"><a href="group___d_a_g.html#classtaraxa_1_1_sortition_params_manager">taraxa::SortitionParamsManager</a></div><div class="ttdoc">SortitionParamsManager class calculates DAG efficiency and makes VDF difficulty adjustments.</div><div class="ttdef"><b>Definition:</b> sortition_params_manager.hpp:36</div></div>
<div class="ttc" id="agroup___d_a_g_html_aed1bf9463f3f5dd18f46ead7f1323fc1"><div class="ttname"><a href="group___d_a_g.html#aed1bf9463f3f5dd18f46ead7f1323fc1">taraxa::DagManager::ULock</a></div><div class="ttdeci">std::unique_lock&lt; std::shared_mutex &gt; ULock</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:45</div></div>
<div class="ttc" id="astructtaraxa_1_1_dag_frontier_html"><div class="ttname"><a href="structtaraxa_1_1_dag_frontier.html">taraxa::DagFrontier</a></div><div class="ttdef"><b>Definition:</b> dag_block.hpp:119</div></div>
<div class="ttc" id="agroup___d_a_g_html_a3556c5c37d7798257f61f03c10192fb1"><div class="ttname"><a href="group___d_a_g.html#a3556c5c37d7798257f61f03c10192fb1">taraxa::DagManager::network_</a></div><div class="ttdeci">std::weak_ptr&lt; Network &gt; network_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:240</div></div>
<div class="ttc" id="adag__block_8hpp_html"><div class="ttname"><a href="dag__block_8hpp.html">dag_block.hpp</a></div></div>
<div class="ttc" id="agroup___d_a_g_html_aa3697762b635b69a447e105984f20482"><div class="ttname"><a href="group___d_a_g.html#aa3697762b635b69a447e105984f20482">taraxa::DagManager::dag_config_</a></div><div class="ttdeci">const DagConfig dag_config_</div><div class="ttdef"><b>Definition:</b> dag_manager.hpp:249</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_26a07acc86f96606533d32694b27ad6e.html">core_libs</a></li><li class="navelem"><a class="el" href="dir_cfe3fd7e5f3bdd0f5dfa2b6860f93e94.html">consensus</a></li><li class="navelem"><a class="el" href="dir_29459ddfa70b136c6779901e5c527d5b.html">include</a></li><li class="navelem"><a class="el" href="dir_8ca831c0080ad3f68e900eabd08cf342.html">dag</a></li><li class="navelem"><a class="el" href="dag__manager_8hpp.html">dag_manager.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TARAXA: libraries/aleth/libp2p/Host.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TARAXA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_host_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Host.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_host_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Aleth: Ethereum C++ client, tools and libraries.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Copyright 2014-2019 Aleth Authors.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Licensed under the GNU General Public License, Version 3.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_guards_8h.html">libdevcore/Guards.h</a>&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="libdevcrypto_2_common_8h.html">libdevcrypto/Common.h</a>&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;filesystem&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libp2p_2_common_8h.html">Common.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_e_n_r_8h.html">ENR.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_network_8h.html">Network.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_node_table_8h.html">NodeTable.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_peer_8h.html">Peer.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_r_l_px_handshake_8h.html">RLPxHandshake.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_session_8h.html">Session.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="taraxa_8hpp.html">taraxa.hpp</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span>io = boost::asio;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">namespace </span>bi = io::ip;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacestd.html">std</a> {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="structstd_1_1hash_3_01pair_3_01dev_1_1p2p_1_1_node_i_d_00_01string_01_4_01_4.html">   34</a></span>&#160;<span class="keyword">struct </span>hash&lt;pair&lt;<a class="code" href="namespacedev.html">dev</a>::<a class="code" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">p2p::NodeID</a>, string&gt;&gt; {</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="structstd_1_1hash_3_01pair_3_01dev_1_1p2p_1_1_node_i_d_00_01string_01_4_01_4.html#aab8f501ba9a22e9afbef9eadd42cca87">   35</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="structstd_1_1hash_3_01pair_3_01dev_1_1p2p_1_1_node_i_d_00_01string_01_4_01_4.html#aab8f501ba9a22e9afbef9eadd42cca87">operator()</a>(pair&lt;dev::p2p::NodeID, string&gt; <span class="keyword">const</span>&amp; _value)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordtype">size_t</span> ret = hash&lt;dev::p2p::NodeID&gt;()(_value.first);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">return</span> ret ^ (hash&lt;string&gt;()(_value.second) + 0x9e3779b9 + (ret &lt;&lt; 6) + (ret &gt;&gt; 2));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;};</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}  <span class="comment">// namespace std</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacedev.html">dev</a> {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span>p2p {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">class </span>CapabilityFace;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">struct </span>Host;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">struct </span>Session;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">class </span>RLPXFrameCoder;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html">   50</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdev_1_1p2p_1_1_node_info.html">NodeInfo</a> {</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html#a1b27ddf82a0e7c96cb10362d602b5be4">   51</a></span>&#160;  <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a1b27ddf82a0e7c96cb10362d602b5be4">NodeInfo</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html#adf35992e58420733e7cca73562872766">   52</a></span>&#160;  <a class="code" href="structdev_1_1p2p_1_1_node_info.html#adf35992e58420733e7cca73562872766">NodeInfo</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; _id, std::string <span class="keyword">const</span>&amp; _address, <span class="keywordtype">unsigned</span> _port, std::string <span class="keyword">const</span>&amp; _version,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;           std::string <span class="keyword">const</span>&amp; _enr)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      : <a class="code" href="structdev_1_1p2p_1_1_node_info.html#aa1e99e7d5cfcedf999eefdcbab8ef868">id</a>(_id), <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a9121f24ea6f963cfae1d7c32a7a8ab11">address</a>(_address), <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a6e4a76a0cc41e8b3d42d30494cdd6754">port</a>(_port), <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a8b0ed26d959c3103eb65095b157f178f">version</a>(_version), <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a22e2f8f9fcab879bda81ec28060a2ebf">enr</a>(_enr) {}</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html#a018866d892016661f591b64a825bbf44">   56</a></span>&#160;  std::string <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a018866d892016661f591b64a825bbf44">enode</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;enode://&quot;</span> + <span class="keywordtype">id</span>.hex() + <span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a9121f24ea6f963cfae1d7c32a7a8ab11">address</a> + <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="namespacedev.html#aa7fc384c4f0262b4e38f702c3754858f">toString</a>(<a class="code" href="structdev_1_1p2p_1_1_node_info.html#a6e4a76a0cc41e8b3d42d30494cdd6754">port</a>); }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html#aa1e99e7d5cfcedf999eefdcbab8ef868">   58</a></span>&#160;  <a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <a class="code" href="structdev_1_1p2p_1_1_node_info.html#aa1e99e7d5cfcedf999eefdcbab8ef868">id</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html#a9121f24ea6f963cfae1d7c32a7a8ab11">   59</a></span>&#160;  std::string <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a9121f24ea6f963cfae1d7c32a7a8ab11">address</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html#a6e4a76a0cc41e8b3d42d30494cdd6754">   60</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a6e4a76a0cc41e8b3d42d30494cdd6754">port</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html#a8b0ed26d959c3103eb65095b157f178f">   61</a></span>&#160;  std::string <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a8b0ed26d959c3103eb65095b157f178f">version</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_node_info.html#a22e2f8f9fcab879bda81ec28060a2ebf">   62</a></span>&#160;  std::string <a class="code" href="structdev_1_1p2p_1_1_node_info.html#a22e2f8f9fcab879bda81ec28060a2ebf">enr</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;};</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html">   74</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdev_1_1p2p_1_1_host.html">Host</a> final : std::enable_shared_from_this&lt;Host&gt; {</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ade085b0d49ad8fb31fad2fd7a4594848">   75</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#ade085b0d49ad8fb31fad2fd7a4594848">CapabilityList</a> = std::vector&lt;std::shared_ptr&lt;CapabilityFace&gt;&gt;;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a773a77cc100211a7f0293f917fbc1bd9">   76</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a773a77cc100211a7f0293f917fbc1bd9">CapabilitiesFactory</a> = std::function&lt;<a class="code" href="structdev_1_1p2p_1_1_host.html#ade085b0d49ad8fb31fad2fd7a4594848">CapabilityList</a>(std::weak_ptr&lt;Host&gt;)&gt;;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <a class="code" href="structdev_1_1p2p_1_1_host.html#a3a67cb085cf2787e50abbeb15dd35cc1">Host</a>(std::string _clientVersion, <a class="code" href="classdev_1_1_key_pair.html">KeyPair</a> <span class="keyword">const</span>&amp; kp, <a class="code" href="structdev_1_1p2p_1_1_network_config.html">NetworkConfig</a> _n, <a class="code" href="namespacedev_1_1p2p.html#structdev_1_1p2p_1_1_taraxa_network_config">TaraxaNetworkConfig</a> taraxa_conf,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;       std::filesystem::path state_file_path);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keyword">static</span> std::shared_ptr&lt;Host&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a6b5e61650bac9f96af5f50f05920d7e2">make</a>(std::string _clientVersion, <a class="code" href="structdev_1_1p2p_1_1_host.html#a773a77cc100211a7f0293f917fbc1bd9">CapabilitiesFactory</a> <span class="keyword">const</span>&amp; cap_factory,</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                    <a class="code" href="classdev_1_1_key_pair.html">KeyPair</a> <span class="keyword">const</span>&amp; kp, <a class="code" href="structdev_1_1p2p_1_1_network_config.html">NetworkConfig</a> _n, <a class="code" href="namespacedev_1_1p2p.html#structdev_1_1p2p_1_1_taraxa_network_config">TaraxaNetworkConfig</a> taraxa_conf = {},</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                    std::filesystem::path state_file_path = {});</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ac68d3ac5989d6af7792b176b98d3b017">   87</a></span>&#160;  <a class="code" href="namespacedev_1_1p2p.html#a25b5ca94b7a8b6b832b6927d07418550">Capabilities</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#ac68d3ac5989d6af7792b176b98d3b017">getSupportedCapabilities</a>() { <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a27a644813bf1d1261b431de5a2bf8ca2">m_capabilities</a>; }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="structdev_1_1p2p_1_1_host.html#a6c14f16c39ae6bc5db2672e0141adccd">~Host</a>();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  ba::io_context::count_type <a class="code" href="structdev_1_1p2p_1_1_host.html#a4d01c5e35e506c1ab3a51e8fc9c58d9f">do_work</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// This is only for discovery !!!!</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  ba::io_context::count_type <a class="code" href="structdev_1_1p2p_1_1_host.html#aedc2485cf79df61d01fa34af8a0c03b6">do_discov</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#af172022af7fd54783396778c6c64d208">   95</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#af172022af7fd54783396778c6c64d208">isRunning</a>() { <span class="keywordflow">return</span> !<a class="code" href="structdev_1_1p2p_1_1_host.html#adec83ffec95643c42e54424e4a622115">ioc_</a>.stopped(); }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#af5f30d38696533a1f32dcd4433ccb91d">   97</a></span>&#160;  uint64_t <a class="code" href="structdev_1_1p2p_1_1_host.html#af5f30d38696533a1f32dcd4433ccb91d">peer_count</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a16fcf16448de6dbdd6e0d88decac18dd">peer_count_snapshot_</a>; }</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a0e538e8d25bf6374eed667d53698fecd">   99</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a0e538e8d25bf6374eed667d53698fecd">listenPort</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#acedaf58b23cee7ba6d8478c75ac7818d">m_listenPort</a>; }</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ac05b941935177dabc23d1a7968edc6d8">  101</a></span>&#160;  <a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#ac05b941935177dabc23d1a7968edc6d8">id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a845ff3794d69b7063038e5424a026763">m_alias</a>.<a class="code" href="classdev_1_1_key_pair.html#a85b9f6aebea36de4cc18794ee67d2920">pub</a>(); }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ac6dbbf8be1355d865b4ac2834dc946ab">  103</a></span>&#160;  <span class="keyword">auto</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#ac6dbbf8be1355d865b4ac2834dc946ab">getNodeCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#ac0872ab2809853dbe973189108d545fc">m_nodeTable</a>-&gt;count(); }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#aedf51ccc174014cad0f68a92e1800c7c">  105</a></span>&#160;  std::list&lt;NodeEntry&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#aedf51ccc174014cad0f68a92e1800c7c">getNodes</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#ac0872ab2809853dbe973189108d545fc">m_nodeTable</a>-&gt;snapshot(); }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a51239084dd8d29c8adbf725c4aee5208">addNode</a>(<a class="code" href="classdev_1_1p2p_1_1_node.html">Node</a> <span class="keyword">const</span>&amp; _node);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#ad918d3eff55c8d2357db166c7976f97d">invalidateNode</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; _node);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a2a5364b0c6d1c7fd2793f15774e084a4">  111</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a2a5364b0c6d1c7fd2793f15774e084a4">disconnect</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; _nodeID, <a class="code" href="namespacedev_1_1p2p.html#ab97a033c9bbe0fb22e2b4f093593f276">DisconnectReason</a> _reason) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    ba::post(<a class="code" href="structdev_1_1p2p_1_1_host.html#a28def719762dcd876de26abf88a54623">strand_</a>, [=, <span class="keyword">this</span>] {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> session = <a class="code" href="structdev_1_1p2p_1_1_host.html#a9045c601adb29bff6ff0454f0f5ab521">peerSession</a>(_nodeID)) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        session-&gt;disconnect(_reason);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    });</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a9a37597abfbd9f52329f1ffe1d8508e6">  119</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a9a37597abfbd9f52329f1ffe1d8508e6">send</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; node_id, std::string capability_name, <span class="keywordtype">unsigned</span> packet_type, <a class="code" href="namespacedev.html#a70b2e7ff6ed93ac6c8ca25b55ac6173d">bytes</a> payload,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            std::function&lt;<span class="keywordtype">void</span>()&gt;&amp;&amp; on_done = {}) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    ba::post(<a class="code" href="structdev_1_1p2p_1_1_host.html#a28def719762dcd876de26abf88a54623">strand_</a>, [=, <span class="keyword">this</span>, capability_name = std::move(capability_name), payload = std::move(payload),</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                       on_done = std::move(on_done)]() <span class="keyword">mutable</span> {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> session = <a class="code" href="structdev_1_1p2p_1_1_host.html#a9045c601adb29bff6ff0454f0f5ab521">peerSession</a>(node_id)) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        session-&gt;send(std::move(capability_name), packet_type, std::move(payload), std::move(on_done));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    });</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a47d1f6a2cf6a473edc7e30790d9dd0ab">  130</a></span>&#160;  std::string <a class="code" href="structdev_1_1p2p_1_1_host.html#a47d1f6a2cf6a473edc7e30790d9dd0ab">enode</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    std::string address;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structdev_1_1p2p_1_1_host.html#a0ffacbabf44a7843d24d6831f6fb7c63">m_netConfig</a>.<a class="code" href="structdev_1_1p2p_1_1_network_config.html#a307da441278a1eeaa417d47809fca66c">publicIPAddress</a>.empty())</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      address = <a class="code" href="structdev_1_1p2p_1_1_host.html#a0ffacbabf44a7843d24d6831f6fb7c63">m_netConfig</a>.<a class="code" href="structdev_1_1p2p_1_1_network_config.html#a307da441278a1eeaa417d47809fca66c">publicIPAddress</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>.address().is_unspecified())</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      address = <a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>.address().to_string();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      address = <a class="code" href="namespacedev_1_1p2p.html#afa4c87009e0bc9802042b5d4ce3c992d">c_localhostIp</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    std::string port;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>.port())</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      port = <a class="code" href="namespacedev.html#aa7fc384c4f0262b4e38f702c3754858f">toString</a>(<a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>.port());</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      port = <a class="code" href="namespacedev.html#aa7fc384c4f0262b4e38f702c3754858f">toString</a>(<a class="code" href="structdev_1_1p2p_1_1_host.html#a0ffacbabf44a7843d24d6831f6fb7c63">m_netConfig</a>.<a class="code" href="structdev_1_1p2p_1_1_network_config.html#af35bc6f6e0506b0cfec64ce076a08f37">listenPort</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;enode://&quot;</span> + <a class="code" href="structdev_1_1p2p_1_1_host.html#ac05b941935177dabc23d1a7968edc6d8">id</a>().<a class="code" href="classdev_1_1_fixed_hash.html#a2778da28cbe084bc5b29551a203dd193">hex</a>() + <span class="stringliteral">&quot;@&quot;</span> + address + <span class="stringliteral">&quot;:&quot;</span> + port;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a813c9bc08f843581281cbdafe524e6cc">nodeTableHasNode</a>(<a class="code" href="classdev_1_1_fixed_hash.html">Public</a> <span class="keyword">const</span>&amp; _id) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// private but can be made public if needed</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="classdev_1_1p2p_1_1_node.html">Node</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#a779fae5e251a6e568844ec037d653ffa">nodeFromNodeTable</a>(<a class="code" href="classdev_1_1_fixed_hash.html">Public</a> <span class="keyword">const</span>&amp; _id) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html">  153</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structdev_1_1p2p_1_1_host.html#structdev_1_1p2p_1_1_host_1_1_known_node">KnownNode</a> {</div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a9199f1dc673c788ea3685938aca7d849">  154</a></span>&#160;    <a class="code" href="classdev_1_1p2p_1_1_node.html">Node</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#a9199f1dc673c788ea3685938aca7d849">node</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#af48111b36108125508b64b6e3e1be302">  155</a></span>&#160;    uint32_t <a class="code" href="structdev_1_1p2p_1_1_host.html#af48111b36108125508b64b6e3e1be302">lastPongReceivedTime</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a7681c2e09bfce409ee94d5f4c391caf9">  156</a></span>&#160;    uint32_t <a class="code" href="structdev_1_1p2p_1_1_host.html#a7681c2e09bfce409ee94d5f4c391caf9">lastPongSentTime</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  };</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a843c7d676f420f50ca75b8a7ef30d5f7">addKnownNodeToNodeTable</a>(<a class="code" href="structdev_1_1p2p_1_1_host.html#structdev_1_1p2p_1_1_host_1_1_known_node">KnownNode</a> <span class="keyword">const</span>&amp; node);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a4b23feb69056b7a3c381f9e30d84a509">  160</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a4b23feb69056b7a3c381f9e30d84a509">haveCapability</a>(<a class="code" href="namespacedev_1_1p2p.html#a3e91739f2f67f56a118ab753083470b9">CapDesc</a> <span class="keyword">const</span>&amp; _name)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a27a644813bf1d1261b431de5a2bf8ca2">m_capabilities</a>.count(_name) != 0; }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a3e01d167821457263b023b6a248b4eed">  163</a></span>&#160;  std::string <a class="code" href="structdev_1_1p2p_1_1_host.html#a3e01d167821457263b023b6a248b4eed">listenAddress</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>.address().is_unspecified() ? <span class="stringliteral">&quot;0.0.0.0&quot;</span> : <a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>.address().to_string();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ab13dc8199b78e5e7b21d74f3ba079cdf">  167</a></span>&#160;  <a class="code" href="structdev_1_1p2p_1_1_network_config.html">NetworkConfig</a> <span class="keyword">const</span>&amp; <a class="code" href="structdev_1_1p2p_1_1_host.html#ab13dc8199b78e5e7b21d74f3ba079cdf">networkConfig</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a0ffacbabf44a7843d24d6831f6fb7c63">m_netConfig</a>; }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#aacc8759b9c06dd3ef87c9aa52d784380">  170</a></span>&#160;  bi::tcp::endpoint <span class="keyword">const</span>&amp; <a class="code" href="structdev_1_1p2p_1_1_host.html#aacc8759b9c06dd3ef87c9aa52d784380">tcpPublic</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>; }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ae64ad856a2cf9f11c1f3209caf7c3bca">  173</a></span>&#160;  <a class="code" href="structdev_1_1p2p_1_1_node_info.html">p2p::NodeInfo</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#ae64ad856a2cf9f11c1f3209caf7c3bca">nodeInfo</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">auto</span> <span class="keyword">const</span> e = <a class="code" href="structdev_1_1p2p_1_1_host.html#af45455e39c329fdc3efe6af597288b6f">enr</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_node_info.html">NodeInfo</a>(</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordtype">id</span>(),</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        (<a class="code" href="structdev_1_1p2p_1_1_host.html#ab13dc8199b78e5e7b21d74f3ba079cdf">networkConfig</a>().publicIPAddress.empty() ? <a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>.address().to_string() : <a class="code" href="structdev_1_1p2p_1_1_host.html#ab13dc8199b78e5e7b21d74f3ba079cdf">networkConfig</a>().publicIPAddress),</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>.port(), <a class="code" href="structdev_1_1p2p_1_1_host.html#a58f9bae75580d1d522fd3b0300949615">m_clientVersion</a>, e.textEncoding());</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#af45455e39c329fdc3efe6af597288b6f">  182</a></span>&#160;  <a class="code" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#af45455e39c329fdc3efe6af597288b6f">enr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#ac0872ab2809853dbe973189108d545fc">m_nodeTable</a>-&gt;hostENR(); }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#adf3f35da26402aa18fff85051f373267">peer_count_</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// Really private</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="namespacedev_1_1p2p.html#a4a6dd4e0ba0ff50e301bdbc81b4e2bea">PeerSessionInfos</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#abd82b169ada4a372ababc61517ac1aec">peerSessionInfos</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  std::shared_ptr&lt;Session&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a9045c601adb29bff6ff0454f0f5ab521">peerSession</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; _id) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#aa6b4e7837bfc00372faf05eb794f07dd">startPeerSession</a>(<a class="code" href="classdev_1_1_fixed_hash.html">Public</a> <span class="keyword">const</span>&amp; _id, <a class="code" href="classdev_1_1_r_l_p.html">RLP</a> <span class="keyword">const</span>&amp; _hello, std::unique_ptr&lt;RLPXFrameCoder&gt; _io,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                        std::shared_ptr&lt;RLPXSocket&gt; <span class="keyword">const</span>&amp; _s);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a5bfc3d72250374fcc0273b355a23b8e3">onNodeTableEvent</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; _n, <a class="code" href="namespacedev_1_1p2p.html#ad922460547e7c7fea21b60dbfae9f8dc">NodeTableEventType</a> <span class="keyword">const</span>&amp; _e);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#aa933e4971277ca0f189da7a34a4e6e04">save_state</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html">  205</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structdev_1_1p2p_1_1_host.html#structdev_1_1p2p_1_1_host_1_1_persistent_state">PersistentState</a> {</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ab8ba5ebea9b1c7d20f54c1c3e4b524fd">  206</a></span>&#160;    <a class="code" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#ab8ba5ebea9b1c7d20f54c1c3e4b524fd">enr</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a7551c55d8bface84e5f697e558a4a694">  207</a></span>&#160;    std::vector&lt;KnownNode&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a7551c55d8bface84e5f697e558a4a694">known_nodes</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a02347e7bf3c420974812af9b3e701737">  208</a></span>&#160;    std::vector&lt;std::shared_ptr&lt;Peer&gt;&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a02347e7bf3c420974812af9b3e701737">peers</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  };</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  std::optional&lt;PersistentState&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a4f170aae51e527db4605ddc4097a9e62">restore_state</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850a1d51bb435beb4bedb43cf53ad15388cb">  212</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850">PeerSlotType</a> { <a class="code" href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850a1d51bb435beb4bedb43cf53ad15388cb">Egress</a>, <a class="code" href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850a2bec2b51432f10cbd92135d22dba98d8">Ingress</a> };</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#aaaf8a3794157f1b39beafb26b6149fd1">  214</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#aaaf8a3794157f1b39beafb26b6149fd1">peerSlots</a>(<a class="code" href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850">PeerSlotType</a> _type)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span> _type == <a class="code" href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850a1d51bb435beb4bedb43cf53ad15388cb">Egress</a> ? <a class="code" href="structdev_1_1p2p_1_1_host.html#ae22165e38e451d0e7142e5baf871e711">m_idealPeerCount</a> : <a class="code" href="structdev_1_1p2p_1_1_host.html#ae22165e38e451d0e7142e5baf871e711">m_idealPeerCount</a> * <a class="code" href="structdev_1_1p2p_1_1_host.html#adb22daf3235b572bec2caca6a2568960">m_stretchPeers</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a16903fc724197c3fcd2410f2d9f4e657">  218</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a16903fc724197c3fcd2410f2d9f4e657">havePeerSession</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; _id) { <span class="keywordflow">return</span> bool(<a class="code" href="structdev_1_1p2p_1_1_host.html#a9045c601adb29bff6ff0454f0f5ab521">peerSession</a>(_id)); }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a635530337ad0e62f0d65da4379f609a4">isHandshaking</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; _id) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  bi::tcp::endpoint <a class="code" href="structdev_1_1p2p_1_1_host.html#a24453cf74468379aef451da129e60c5f">determinePublic</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#a7b9216f5abbd8db0abb194757a07d308">updateENR</a>(<a class="code" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a> <span class="keyword">const</span>&amp; _restoredENR, bi::tcp::endpoint <span class="keyword">const</span>&amp; _tcpPublic, uint16_t <span class="keyword">const</span>&amp; _listenPort);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#aa3d58b92362bb3b3fdf99fee37f0003c">connect</a>(std::shared_ptr&lt;Peer&gt; <span class="keyword">const</span>&amp; _p);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a8f276784e3d059456eed843a26b20042">peerSlotsAvailable</a>(<a class="code" href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850">PeerSlotType</a> _type = <a class="code" href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850a2bec2b51432f10cbd92135d22dba98d8">Ingress</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a979ca721d86fbb90b7b87d31ece7bbac">keepAlivePeers</a>();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#ad7bea36bbfe3b25bec9cbd9eb1d9adad">logActivePeers</a>();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#abedaae2ab185ba1b802d7f27b62bf955">runAcceptor</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#a1524cca24e2a6c80d8d1f3c6b0c24980">main_loop_body</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  std::pair&lt;Secret, ENR&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a7b2e3c45444299b4fa1771f6aeca0cdd">restoreENR</a>(<a class="code" href="classdev_1_1vector__ref.html">bytesConstRef</a> _b, <a class="code" href="structdev_1_1p2p_1_1_network_config.html">NetworkConfig</a> <span class="keyword">const</span>&amp; _networkConfig);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#aafa57ba260d2263e496285e5422fe390">  248</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#aafa57ba260d2263e496285e5422fe390">isAllowedEndpoint</a>(<a class="code" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a> <span class="keyword">const</span>&amp; _endpointToCheck)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacedev_1_1p2p.html#ab88aa7ac72ea5ac0ecb9a351f1e072f6">dev::p2p::isAllowedEndpoint</a>(<a class="code" href="structdev_1_1p2p_1_1_host.html#a0ffacbabf44a7843d24d6831f6fb7c63">m_netConfig</a>.<a class="code" href="structdev_1_1p2p_1_1_network_config.html#a89ae0e9b321e6c0ea8d0f71fec1ba15b">allowLocalDiscovery</a>, _endpointToCheck);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  std::shared_ptr&lt;Peer&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a187762f2bcd6988b71513b4c007d4933">peer</a>(<a class="code" href="classdev_1_1_fixed_hash.html">NodeID</a> <span class="keyword">const</span>&amp; _n) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// THREAD SAFE STATE</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a3eb13c148644cf8ac4f6368b2d74b39e">  256</a></span>&#160;  std::atomic&lt;bool&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a3eb13c148644cf8ac4f6368b2d74b39e">fully_initialized_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#adec83ffec95643c42e54424e4a622115">  258</a></span>&#160;  ba::io_context <a class="code" href="structdev_1_1p2p_1_1_host.html#adec83ffec95643c42e54424e4a622115">ioc_</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ab383bea226fe2374d82e909e54b0c626">  259</a></span>&#160;  ba::executor_work_guard&lt;ba::io_context::executor_type&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#ab383bea226fe2374d82e909e54b0c626">ioc_w_</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a7fde5b13a3d95ab9c51ce2fac405ad52">  261</a></span>&#160;  ba::io_context <a class="code" href="structdev_1_1p2p_1_1_host.html#a7fde5b13a3d95ab9c51ce2fac405ad52">session_ioc_</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ac23d1da633a7cd9f7e02dcdbf82808af">  262</a></span>&#160;  ba::executor_work_guard&lt;ba::io_context::executor_type&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#ac23d1da633a7cd9f7e02dcdbf82808af">session_ioc_w_</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a28def719762dcd876de26abf88a54623">  264</a></span>&#160;  ba::io_context::strand <a class="code" href="structdev_1_1p2p_1_1_host.html#a28def719762dcd876de26abf88a54623">strand_</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a5a61db7ee55fff50544cdcfa7b913e0e">  268</a></span>&#160;  bi::tcp::acceptor <a class="code" href="structdev_1_1p2p_1_1_host.html#a5a61db7ee55fff50544cdcfa7b913e0e">m_tcp4Acceptor</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#aad38bbbc7a325dcfe59ab355fc10504f">  269</a></span>&#160;  ba::steady_timer <a class="code" href="structdev_1_1p2p_1_1_host.html#aad38bbbc7a325dcfe59ab355fc10504f">m_runTimer</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// IMMUTABLE STATE</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a6eb46b9c7133fb57be418f84396db369">  273</a></span>&#160;  std::filesystem::path <a class="code" href="structdev_1_1p2p_1_1_host.html#a6eb46b9c7133fb57be418f84396db369">state_file_path_</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a58f9bae75580d1d522fd3b0300949615">  274</a></span>&#160;  std::string <a class="code" href="structdev_1_1p2p_1_1_host.html#a58f9bae75580d1d522fd3b0300949615">m_clientVersion</a>;  </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a0ffacbabf44a7843d24d6831f6fb7c63">  275</a></span>&#160;  <a class="code" href="structdev_1_1p2p_1_1_network_config.html">NetworkConfig</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#a0ffacbabf44a7843d24d6831f6fb7c63">m_netConfig</a>;    </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#adf47a1359320e91b5e042f6bdff1895f">  276</a></span>&#160;  <a class="code" href="namespacedev_1_1p2p.html#structdev_1_1p2p_1_1_taraxa_network_config">TaraxaNetworkConfig</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#adf47a1359320e91b5e042f6bdff1895f">taraxa_conf_</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ae22165e38e451d0e7142e5baf871e711">  277</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#ae22165e38e451d0e7142e5baf871e711">m_idealPeerCount</a> = 0;  </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#adb22daf3235b572bec2caca6a2568960">  278</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#adb22daf3235b572bec2caca6a2568960">m_stretchPeers</a> = 0;    </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a27a644813bf1d1261b431de5a2bf8ca2">  280</a></span>&#160;  <a class="code" href="namespacedev_1_1p2p.html#a25b5ca94b7a8b6b832b6927d07418550">Capabilities</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#a27a644813bf1d1261b431de5a2bf8ca2">m_capabilities</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#acedaf58b23cee7ba6d8478c75ac7818d">  281</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structdev_1_1p2p_1_1_host.html#acedaf58b23cee7ba6d8478c75ac7818d">m_listenPort</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">  282</a></span>&#160;  bi::tcp::endpoint <a class="code" href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">m_tcpPublic</a>;  </div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a845ff3794d69b7063038e5424a026763">  284</a></span>&#160;  <a class="code" href="classdev_1_1_key_pair.html">KeyPair</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#a845ff3794d69b7063038e5424a026763">m_alias</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a259850f8f85afdeeb763336d638a0b55">  286</a></span>&#160;  std::shared_ptr&lt;RLPXHandshake::HostContext&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a259850f8f85afdeeb763336d638a0b55">handshake_ctx_</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// MUTABLE STATE | ACCESS IS SERIALIZED</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a83680d99c9b6d0ddf1dab38b389a7368">  295</a></span>&#160;  std::set&lt;Peer*&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a83680d99c9b6d0ddf1dab38b389a7368">m_pendingPeerConns</a>;  </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ac1da64c1d556c6f4e5089969ea4afa58">  301</a></span>&#160;  std::unordered_map&lt;NodeID, std::shared_ptr&lt;Peer&gt;&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#ac1da64c1d556c6f4e5089969ea4afa58">m_peers</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ab8336e770280ba43700db54b3020e2f5">  303</a></span>&#160;  <span class="keyword">mutable</span> std::unordered_map&lt;NodeID, std::weak_ptr&lt;Session&gt;&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#ab8336e770280ba43700db54b3020e2f5">m_sessions</a>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a25003fb227d136001b5986c6f1bc35bd">  307</a></span>&#160;  std::list&lt;std::weak_ptr&lt;RLPXHandshake&gt;&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a25003fb227d136001b5986c6f1bc35bd">m_connecting</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#af412e2b9651b98154f1916bdbf42d22c">  309</a></span>&#160;  <a class="code" href="namespacetaraxa_1_1net_1_1rpc_1_1eth.html#ad1b782697d2ffcfad031bf5ee494afb8">std::chrono::steady_clock::time_point</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#af412e2b9651b98154f1916bdbf42d22c">m_lastPing</a>;  </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ab2c30507ea8316ba74331f5042a11bd6">  313</a></span>&#160;  <a class="code" href="namespacetaraxa_1_1net_1_1rpc_1_1eth.html#ad1b782697d2ffcfad031bf5ee494afb8">std::chrono::steady_clock::time_point</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#ab2c30507ea8316ba74331f5042a11bd6">m_lastPeerLogMessage</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// MUTABLE STATE | THREAD SAFETY GUARANTEED BY THE CLASSES</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#ac0872ab2809853dbe973189108d545fc">  317</a></span>&#160;  std::unique_ptr&lt;NodeTable&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#ac0872ab2809853dbe973189108d545fc">m_nodeTable</a>;  </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a16fcf16448de6dbdd6e0d88decac18dd">  319</a></span>&#160;  std::atomic&lt;uint64_t&gt; <a class="code" href="structdev_1_1p2p_1_1_host.html#a16fcf16448de6dbdd6e0d88decac18dd">peer_count_snapshot_</a> = 0;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// LOGGERS ARE THREAD SAFE</span></div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#a071593a39c481a0cad338c976fe39786">  322</a></span>&#160;  <span class="keyword">mutable</span> <a class="code" href="namespacedev.html#a47e383bc41ef3b6ad64b26324a79b948">Logger</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#a071593a39c481a0cad338c976fe39786">m_logger</a>{<a class="code" href="namespacedev.html#adb1208e9bab817458c3b4a94ed06cfc6">createLogger</a>(<a class="code" href="namespacedev.html#a7fc4649ee123b939f2786c757b3d4491a73f1cfe530632048dd623729258af859">VerbosityDebug</a>, <span class="stringliteral">&quot;net&quot;</span>)};</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#aca6d02fb39902063f0ca8d0ac53eeaa7">  323</a></span>&#160;  <a class="code" href="namespacedev.html#a47e383bc41ef3b6ad64b26324a79b948">Logger</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#aca6d02fb39902063f0ca8d0ac53eeaa7">m_detailsLogger</a>{<a class="code" href="namespacedev.html#adb1208e9bab817458c3b4a94ed06cfc6">createLogger</a>(<a class="code" href="namespacedev.html#a7fc4649ee123b939f2786c757b3d4491ab8ef256fd47f32f6f85121f0058147b0">VerbosityTrace</a>, <span class="stringliteral">&quot;net&quot;</span>)};</div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="structdev_1_1p2p_1_1_host.html#aaf476df01ed6bed92fbb633c6c9e49c4">  324</a></span>&#160;  <a class="code" href="namespacedev.html#a47e383bc41ef3b6ad64b26324a79b948">Logger</a> <a class="code" href="structdev_1_1p2p_1_1_host.html#aaf476df01ed6bed92fbb633c6c9e49c4">m_infoLogger</a>{<a class="code" href="namespacedev.html#adb1208e9bab817458c3b4a94ed06cfc6">createLogger</a>(<a class="code" href="namespacedev.html#a7fc4649ee123b939f2786c757b3d4491a2101288a737776d2e6eb89d324e0ae23">VerbosityInfo</a>, <span class="stringliteral">&quot;net&quot;</span>)};</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;};</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}  <span class="comment">// namespace p2p</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}  <span class="comment">// namespace dev</span></div>
<div class="ttc" id="a_e_n_r_8h_html"><div class="ttname"><a href="_e_n_r_8h.html">ENR.h</a></div></div>
<div class="ttc" id="a_guards_8h_html"><div class="ttname"><a href="_guards_8h.html">Guards.h</a></div></div>
<div class="ttc" id="a_network_8h_html"><div class="ttname"><a href="_network_8h.html">Network.h</a></div></div>
<div class="ttc" id="a_node_table_8h_html"><div class="ttname"><a href="_node_table_8h.html">NodeTable.h</a></div></div>
<div class="ttc" id="a_peer_8h_html"><div class="ttname"><a href="_peer_8h.html">Peer.h</a></div></div>
<div class="ttc" id="a_r_l_px_handshake_8h_html"><div class="ttname"><a href="_r_l_px_handshake_8h.html">RLPxHandshake.h</a></div></div>
<div class="ttc" id="a_session_8h_html"><div class="ttname"><a href="_session_8h.html">Session.h</a></div></div>
<div class="ttc" id="aclassdev_1_1_fixed_hash_html"><div class="ttname"><a href="classdev_1_1_fixed_hash.html">dev::FixedHash&lt; 64 &gt;</a></div></div>
<div class="ttc" id="aclassdev_1_1_fixed_hash_html_a2778da28cbe084bc5b29551a203dd193"><div class="ttname"><a href="classdev_1_1_fixed_hash.html#a2778da28cbe084bc5b29551a203dd193">dev::FixedHash::hex</a></div><div class="ttdeci">std::string hex() const</div><div class="ttdef"><b>Definition:</b> FixedHash.h:176</div></div>
<div class="ttc" id="aclassdev_1_1_key_pair_html"><div class="ttname"><a href="classdev_1_1_key_pair.html">dev::KeyPair</a></div><div class="ttdef"><b>Definition:</b> Common.h:127</div></div>
<div class="ttc" id="aclassdev_1_1_key_pair_html_a85b9f6aebea36de4cc18794ee67d2920"><div class="ttname"><a href="classdev_1_1_key_pair.html#a85b9f6aebea36de4cc18794ee67d2920">dev::KeyPair::pub</a></div><div class="ttdeci">Public const  &amp; pub() const</div><div class="ttdoc">Retrieve the public key.</div><div class="ttdef"><b>Definition:</b> Common.h:143</div></div>
<div class="ttc" id="aclassdev_1_1_r_l_p_html"><div class="ttname"><a href="classdev_1_1_r_l_p.html">dev::RLP</a></div><div class="ttdef"><b>Definition:</b> RLP.h:58</div></div>
<div class="ttc" id="aclassdev_1_1p2p_1_1_e_n_r_html"><div class="ttname"><a href="classdev_1_1p2p_1_1_e_n_r.html">dev::p2p::ENR</a></div><div class="ttdoc">Class representing Ethereum Node Record - see EIP-778.</div><div class="ttdef"><b>Definition:</b> ENR.h:19</div></div>
<div class="ttc" id="aclassdev_1_1p2p_1_1_node_html"><div class="ttname"><a href="classdev_1_1p2p_1_1_node.html">dev::p2p::Node</a></div><div class="ttdef"><b>Definition:</b> Common.h:204</div></div>
<div class="ttc" id="aclassdev_1_1p2p_1_1_node_i_p_endpoint_html"><div class="ttname"><a href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">dev::p2p::NodeIPEndpoint</a></div><div class="ttdoc">IPv4,UDP/TCP endpoints.</div><div class="ttdef"><b>Definition:</b> Common.h:139</div></div>
<div class="ttc" id="aclassdev_1_1vector__ref_html"><div class="ttname"><a href="classdev_1_1vector__ref.html">dev::vector_ref&lt;::byte const &gt;</a></div></div>
<div class="ttc" id="alibdevcrypto_2_common_8h_html"><div class="ttname"><a href="libdevcrypto_2_common_8h.html">Common.h</a></div></div>
<div class="ttc" id="alibp2p_2_common_8h_html"><div class="ttname"><a href="libp2p_2_common_8h.html">Common.h</a></div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_a25b5ca94b7a8b6b832b6927d07418550"><div class="ttname"><a href="namespacedev_1_1p2p.html#a25b5ca94b7a8b6b832b6927d07418550">dev::p2p::Capabilities</a></div><div class="ttdeci">std::map&lt; CapabilityNameAndVersion, Capability &gt; Capabilities</div><div class="ttdef"><b>Definition:</b> taraxa.hpp:38</div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_a3e91739f2f67f56a118ab753083470b9"><div class="ttname"><a href="namespacedev_1_1p2p.html#a3e91739f2f67f56a118ab753083470b9">dev::p2p::CapDesc</a></div><div class="ttdeci">std::pair&lt; std::string, unsigned &gt; CapDesc</div><div class="ttdef"><b>Definition:</b> Common.h:115</div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_a4a6dd4e0ba0ff50e301bdbc81b4e2bea"><div class="ttname"><a href="namespacedev_1_1p2p.html#a4a6dd4e0ba0ff50e301bdbc81b4e2bea">dev::p2p::PeerSessionInfos</a></div><div class="ttdeci">std::vector&lt; PeerSessionInfo &gt; PeerSessionInfos</div><div class="ttdef"><b>Definition:</b> Common.h:132</div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_ab88aa7ac72ea5ac0ecb9a351f1e072f6"><div class="ttname"><a href="namespacedev_1_1p2p.html#ab88aa7ac72ea5ac0ecb9a351f1e072f6">dev::p2p::isAllowedEndpoint</a></div><div class="ttdeci">bool isAllowedEndpoint(bool _allowLocalDiscovery, NodeIPEndpoint const &amp;_endpointToCheck)</div><div class="ttdef"><b>Definition:</b> Common.cpp:45</div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_ab97a033c9bbe0fb22e2b4f093593f276"><div class="ttname"><a href="namespacedev_1_1p2p.html#ab97a033c9bbe0fb22e2b4f093593f276">dev::p2p::DisconnectReason</a></div><div class="ttdeci">DisconnectReason</div><div class="ttdef"><b>Definition:</b> Common.h:84</div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_abbde6b5aa63ddcf129cc2ccdda42e5d5"><div class="ttname"><a href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">dev::p2p::NodeID</a></div><div class="ttdeci">h512 NodeID</div><div class="ttdef"><b>Definition:</b> Common.h:46</div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_ad922460547e7c7fea21b60dbfae9f8dc"><div class="ttname"><a href="namespacedev_1_1p2p.html#ad922460547e7c7fea21b60dbfae9f8dc">dev::p2p::NodeTableEventType</a></div><div class="ttdeci">NodeTableEventType</div><div class="ttdef"><b>Definition:</b> NodeTable.h:19</div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_afa4c87009e0bc9802042b5d4ce3c992d"><div class="ttname"><a href="namespacedev_1_1p2p.html#afa4c87009e0bc9802042b5d4ce3c992d">dev::p2p::c_localhostIp</a></div><div class="ttdeci">constexpr const char * c_localhostIp</div><div class="ttdef"><b>Definition:</b> Network.h:22</div></div>
<div class="ttc" id="anamespacedev_1_1p2p_html_structdev_1_1p2p_1_1_taraxa_network_config"><div class="ttname"><a href="namespacedev_1_1p2p.html#structdev_1_1p2p_1_1_taraxa_network_config">dev::p2p::TaraxaNetworkConfig</a></div><div class="ttdef"><b>Definition:</b> taraxa.hpp:7</div></div>
<div class="ttc" id="anamespacedev_html"><div class="ttname"><a href="namespacedev.html">dev</a></div><div class="ttdef"><b>Definition:</b> Address.cpp:6</div></div>
<div class="ttc" id="anamespacedev_html_a47e383bc41ef3b6ad64b26324a79b948"><div class="ttname"><a href="namespacedev.html#a47e383bc41ef3b6ad64b26324a79b948">dev::Logger</a></div><div class="ttdeci">boost::log::sources::severity_channel_logger&lt;&gt; Logger</div><div class="ttdef"><b>Definition:</b> Log.h:99</div></div>
<div class="ttc" id="anamespacedev_html_a70b2e7ff6ed93ac6c8ca25b55ac6173d"><div class="ttname"><a href="namespacedev.html#a70b2e7ff6ed93ac6c8ca25b55ac6173d">dev::bytes</a></div><div class="ttdeci">std::vector&lt;::byte &gt; bytes</div><div class="ttdef"><b>Definition:</b> Common.h:47</div></div>
<div class="ttc" id="anamespacedev_html_a7fc4649ee123b939f2786c757b3d4491a2101288a737776d2e6eb89d324e0ae23"><div class="ttname"><a href="namespacedev.html#a7fc4649ee123b939f2786c757b3d4491a2101288a737776d2e6eb89d324e0ae23">dev::VerbosityInfo</a></div><div class="ttdeci">@ VerbosityInfo</div><div class="ttdef"><b>Definition:</b> Log.h:49</div></div>
<div class="ttc" id="anamespacedev_html_a7fc4649ee123b939f2786c757b3d4491a73f1cfe530632048dd623729258af859"><div class="ttname"><a href="namespacedev.html#a7fc4649ee123b939f2786c757b3d4491a73f1cfe530632048dd623729258af859">dev::VerbosityDebug</a></div><div class="ttdeci">@ VerbosityDebug</div><div class="ttdef"><b>Definition:</b> Log.h:50</div></div>
<div class="ttc" id="anamespacedev_html_a7fc4649ee123b939f2786c757b3d4491ab8ef256fd47f32f6f85121f0058147b0"><div class="ttname"><a href="namespacedev.html#a7fc4649ee123b939f2786c757b3d4491ab8ef256fd47f32f6f85121f0058147b0">dev::VerbosityTrace</a></div><div class="ttdeci">@ VerbosityTrace</div><div class="ttdef"><b>Definition:</b> Log.h:51</div></div>
<div class="ttc" id="anamespacedev_html_aa7fc384c4f0262b4e38f702c3754858f"><div class="ttname"><a href="namespacedev.html#aa7fc384c4f0262b4e38f702c3754858f">dev::toString</a></div><div class="ttdeci">std::string toString(std::chrono::time_point&lt; T &gt; const &amp;_e, std::string const &amp;_format=&quot;%F %T&quot;)</div><div class="ttdef"><b>Definition:</b> CommonIO.h:62</div></div>
<div class="ttc" id="anamespacedev_html_adb1208e9bab817458c3b4a94ed06cfc6"><div class="ttname"><a href="namespacedev.html#adb1208e9bab817458c3b4a94ed06cfc6">dev::createLogger</a></div><div class="ttdeci">Logger createLogger(int _severity, std::string const &amp;_channel)</div><div class="ttdef"><b>Definition:</b> Log.h:100</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">std::hash for asio::adress</div><div class="ttdef"><b>Definition:</b> FixedHash.h:483</div></div>
<div class="ttc" id="anamespacetaraxa_1_1net_1_1rpc_1_1eth_html_ad1b782697d2ffcfad031bf5ee494afb8"><div class="ttname"><a href="namespacetaraxa_1_1net_1_1rpc_1_1eth.html#ad1b782697d2ffcfad031bf5ee494afb8">taraxa::net::rpc::eth::time_point</a></div><div class="ttdeci">std::chrono::system_clock::time_point time_point</div><div class="ttdef"><b>Definition:</b> watches.hpp:12</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html">dev::p2p::Host</a></div><div class="ttdoc">The Host class Capabilities should be registered prior to startNetwork, since m_capabilities is not t...</div><div class="ttdef"><b>Definition:</b> Host.h:74</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a02347e7bf3c420974812af9b3e701737"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a02347e7bf3c420974812af9b3e701737">dev::p2p::Host::PersistentState::peers</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; Peer &gt; &gt; peers</div><div class="ttdef"><b>Definition:</b> Host.h:208</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a071593a39c481a0cad338c976fe39786"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a071593a39c481a0cad338c976fe39786">dev::p2p::Host::m_logger</a></div><div class="ttdeci">Logger m_logger</div><div class="ttdef"><b>Definition:</b> Host.h:322</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a0e538e8d25bf6374eed667d53698fecd"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a0e538e8d25bf6374eed667d53698fecd">dev::p2p::Host::listenPort</a></div><div class="ttdeci">unsigned short listenPort() const</div><div class="ttdoc">Get the port we're listening on currently.</div><div class="ttdef"><b>Definition:</b> Host.h:99</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a0ffacbabf44a7843d24d6831f6fb7c63"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a0ffacbabf44a7843d24d6831f6fb7c63">dev::p2p::Host::m_netConfig</a></div><div class="ttdeci">NetworkConfig m_netConfig</div><div class="ttdoc">Network settings.</div><div class="ttdef"><b>Definition:</b> Host.h:275</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a1524cca24e2a6c80d8d1f3c6b0c24980"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a1524cca24e2a6c80d8d1f3c6b0c24980">dev::p2p::Host::main_loop_body</a></div><div class="ttdeci">void main_loop_body()</div><div class="ttdef"><b>Definition:</b> Host.cpp:507</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a16903fc724197c3fcd2410f2d9f4e657"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a16903fc724197c3fcd2410f2d9f4e657">dev::p2p::Host::havePeerSession</a></div><div class="ttdeci">bool havePeerSession(NodeID const &amp;_id)</div><div class="ttdef"><b>Definition:</b> Host.h:218</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a16fcf16448de6dbdd6e0d88decac18dd"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a16fcf16448de6dbdd6e0d88decac18dd">dev::p2p::Host::peer_count_snapshot_</a></div><div class="ttdeci">std::atomic&lt; uint64_t &gt; peer_count_snapshot_</div><div class="ttdef"><b>Definition:</b> Host.h:319</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a187762f2bcd6988b71513b4c007d4933"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a187762f2bcd6988b71513b4c007d4933">dev::p2p::Host::peer</a></div><div class="ttdeci">std::shared_ptr&lt; Peer &gt; peer(NodeID const &amp;_n) const</div><div class="ttdef"><b>Definition:</b> Host.cpp:202</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a23ec1eea8a6f36724b6706c355e7031b"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a23ec1eea8a6f36724b6706c355e7031b">dev::p2p::Host::m_tcpPublic</a></div><div class="ttdeci">bi::tcp::endpoint m_tcpPublic</div><div class="ttdef"><b>Definition:</b> Host.h:282</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a24453cf74468379aef451da129e60c5f"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a24453cf74468379aef451da129e60c5f">dev::p2p::Host::determinePublic</a></div><div class="ttdeci">bi::tcp::endpoint determinePublic() const</div><div class="ttdoc">Determines publicly advertised address.</div><div class="ttdef"><b>Definition:</b> Host.cpp:361</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a25003fb227d136001b5986c6f1bc35bd"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a25003fb227d136001b5986c6f1bc35bd">dev::p2p::Host::m_connecting</a></div><div class="ttdeci">std::list&lt; std::weak_ptr&lt; RLPXHandshake &gt; &gt; m_connecting</div><div class="ttdef"><b>Definition:</b> Host.h:307</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a259850f8f85afdeeb763336d638a0b55"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a259850f8f85afdeeb763336d638a0b55">dev::p2p::Host::handshake_ctx_</a></div><div class="ttdeci">std::shared_ptr&lt; RLPXHandshake::HostContext &gt; handshake_ctx_</div><div class="ttdef"><b>Definition:</b> Host.h:286</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a27a644813bf1d1261b431de5a2bf8ca2"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a27a644813bf1d1261b431de5a2bf8ca2">dev::p2p::Host::m_capabilities</a></div><div class="ttdeci">Capabilities m_capabilities</div><div class="ttdoc">Each of the capabilities we support.</div><div class="ttdef"><b>Definition:</b> Host.h:280</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a28def719762dcd876de26abf88a54623"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a28def719762dcd876de26abf88a54623">dev::p2p::Host::strand_</a></div><div class="ttdeci">ba::io_context::strand strand_</div><div class="ttdef"><b>Definition:</b> Host.h:264</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a2a5364b0c6d1c7fd2793f15774e084a4"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a2a5364b0c6d1c7fd2793f15774e084a4">dev::p2p::Host::disconnect</a></div><div class="ttdeci">void disconnect(NodeID const &amp;_nodeID, DisconnectReason _reason)</div><div class="ttdef"><b>Definition:</b> Host.h:111</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a2d1ef71cbab758a65c3b57956f172850"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850">dev::p2p::Host::PeerSlotType</a></div><div class="ttdeci">PeerSlotType</div><div class="ttdef"><b>Definition:</b> Host.h:212</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a2d1ef71cbab758a65c3b57956f172850a1d51bb435beb4bedb43cf53ad15388cb"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850a1d51bb435beb4bedb43cf53ad15388cb">dev::p2p::Host::Egress</a></div><div class="ttdeci">@ Egress</div><div class="ttdef"><b>Definition:</b> Host.h:212</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a2d1ef71cbab758a65c3b57956f172850a2bec2b51432f10cbd92135d22dba98d8"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a2d1ef71cbab758a65c3b57956f172850a2bec2b51432f10cbd92135d22dba98d8">dev::p2p::Host::Ingress</a></div><div class="ttdeci">@ Ingress</div><div class="ttdef"><b>Definition:</b> Host.h:212</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a3a67cb085cf2787e50abbeb15dd35cc1"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a3a67cb085cf2787e50abbeb15dd35cc1">dev::p2p::Host::Host</a></div><div class="ttdeci">Host(std::string _clientVersion, KeyPair const &amp;kp, NetworkConfig _n, TaraxaNetworkConfig taraxa_conf, std::filesystem::path state_file_path)</div><div class="ttdef"><b>Definition:</b> Host.cpp:30</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a3e01d167821457263b023b6a248b4eed"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a3e01d167821457263b023b6a248b4eed">dev::p2p::Host::listenAddress</a></div><div class="ttdeci">std::string listenAddress() const</div><div class="ttdoc">Get the address we're listening on currently.</div><div class="ttdef"><b>Definition:</b> Host.h:163</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a3eb13c148644cf8ac4f6368b2d74b39e"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a3eb13c148644cf8ac4f6368b2d74b39e">dev::p2p::Host::fully_initialized_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; fully_initialized_</div><div class="ttdef"><b>Definition:</b> Host.h:256</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a47d1f6a2cf6a473edc7e30790d9dd0ab"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a47d1f6a2cf6a473edc7e30790d9dd0ab">dev::p2p::Host::enode</a></div><div class="ttdeci">std::string enode() const</div><div class="ttdoc">Get the endpoint information.</div><div class="ttdef"><b>Definition:</b> Host.h:130</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a4b23feb69056b7a3c381f9e30d84a509"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a4b23feb69056b7a3c381f9e30d84a509">dev::p2p::Host::haveCapability</a></div><div class="ttdeci">bool haveCapability(CapDesc const &amp;_name) const</div><div class="ttdef"><b>Definition:</b> Host.h:160</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a4d01c5e35e506c1ab3a51e8fc9c58d9f"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a4d01c5e35e506c1ab3a51e8fc9c58d9f">dev::p2p::Host::do_work</a></div><div class="ttdeci">ba::io_context::count_type do_work()</div><div class="ttdef"><b>Definition:</b> Host.cpp:148</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a4f170aae51e527db4605ddc4097a9e62"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a4f170aae51e527db4605ddc4097a9e62">dev::p2p::Host::restore_state</a></div><div class="ttdeci">std::optional&lt; PersistentState &gt; restore_state()</div><div class="ttdef"><b>Definition:</b> Host.cpp:652</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a51239084dd8d29c8adbf725c4aee5208"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a51239084dd8d29c8adbf725c4aee5208">dev::p2p::Host::addNode</a></div><div class="ttdeci">void addNode(Node const &amp;_node)</div><div class="ttdef"><b>Definition:</b> Host.cpp:176</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a58f9bae75580d1d522fd3b0300949615"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a58f9bae75580d1d522fd3b0300949615">dev::p2p::Host::m_clientVersion</a></div><div class="ttdeci">std::string m_clientVersion</div><div class="ttdoc">Our version string.</div><div class="ttdef"><b>Definition:</b> Host.h:274</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a5a61db7ee55fff50544cdcfa7b913e0e"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a5a61db7ee55fff50544cdcfa7b913e0e">dev::p2p::Host::m_tcp4Acceptor</a></div><div class="ttdeci">bi::tcp::acceptor m_tcp4Acceptor</div><div class="ttdef"><b>Definition:</b> Host.h:268</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a5bfc3d72250374fcc0273b355a23b8e3"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a5bfc3d72250374fcc0273b355a23b8e3">dev::p2p::Host::onNodeTableEvent</a></div><div class="ttdeci">void onNodeTableEvent(NodeID const &amp;_n, NodeTableEventType const &amp;_e)</div><div class="ttdef"><b>Definition:</b> Host.cpp:332</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a635530337ad0e62f0d65da4379f609a4"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a635530337ad0e62f0d65da4379f609a4">dev::p2p::Host::isHandshaking</a></div><div class="ttdeci">bool isHandshaking(NodeID const &amp;_id) const</div><div class="ttdef"><b>Definition:</b> Host.cpp:353</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a6b5e61650bac9f96af5f50f05920d7e2"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a6b5e61650bac9f96af5f50f05920d7e2">dev::p2p::Host::make</a></div><div class="ttdeci">static std::shared_ptr&lt; Host &gt; make(std::string _clientVersion, CapabilitiesFactory const &amp;cap_factory, KeyPair const &amp;kp, NetworkConfig _n, TaraxaNetworkConfig taraxa_conf={}, std::filesystem::path state_file_path={})</div><div class="ttdef"><b>Definition:</b> Host.cpp:108</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a6c14f16c39ae6bc5db2672e0141adccd"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a6c14f16c39ae6bc5db2672e0141adccd">dev::p2p::Host::~Host</a></div><div class="ttdeci">~Host()</div><div class="ttdef"><b>Definition:</b> Host.cpp:122</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a6eb46b9c7133fb57be418f84396db369"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a6eb46b9c7133fb57be418f84396db369">dev::p2p::Host::state_file_path_</a></div><div class="ttdeci">std::filesystem::path state_file_path_</div><div class="ttdef"><b>Definition:</b> Host.h:273</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a7551c55d8bface84e5f697e558a4a694"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a7551c55d8bface84e5f697e558a4a694">dev::p2p::Host::PersistentState::known_nodes</a></div><div class="ttdeci">std::vector&lt; KnownNode &gt; known_nodes</div><div class="ttdef"><b>Definition:</b> Host.h:207</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a7681c2e09bfce409ee94d5f4c391caf9"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a7681c2e09bfce409ee94d5f4c391caf9">dev::p2p::Host::KnownNode::lastPongSentTime</a></div><div class="ttdeci">uint32_t lastPongSentTime</div><div class="ttdef"><b>Definition:</b> Host.h:156</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a773a77cc100211a7f0293f917fbc1bd9"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a773a77cc100211a7f0293f917fbc1bd9">dev::p2p::Host::CapabilitiesFactory</a></div><div class="ttdeci">std::function&lt; CapabilityList(std::weak_ptr&lt; Host &gt;)&gt; CapabilitiesFactory</div><div class="ttdef"><b>Definition:</b> Host.h:76</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a779fae5e251a6e568844ec037d653ffa"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a779fae5e251a6e568844ec037d653ffa">dev::p2p::Host::nodeFromNodeTable</a></div><div class="ttdeci">Node nodeFromNodeTable(Public const &amp;_id) const</div><div class="ttdef"><b>Definition:</b> Host.cpp:733</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a7b2e3c45444299b4fa1771f6aeca0cdd"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a7b2e3c45444299b4fa1771f6aeca0cdd">dev::p2p::Host::restoreENR</a></div><div class="ttdeci">std::pair&lt; Secret, ENR &gt; restoreENR(bytesConstRef _b, NetworkConfig const &amp;_networkConfig)</div><div class="ttdoc">Get or create host's Ethereum Node record.</div><div class="ttdef"><b>Definition:</b> Host.cpp:707</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a7b9216f5abbd8db0abb194757a07d308"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a7b9216f5abbd8db0abb194757a07d308">dev::p2p::Host::updateENR</a></div><div class="ttdeci">ENR updateENR(ENR const &amp;_restoredENR, bi::tcp::endpoint const &amp;_tcpPublic, uint16_t const &amp;_listenPort)</div><div class="ttdef"><b>Definition:</b> Host.cpp:403</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a7fde5b13a3d95ab9c51ce2fac405ad52"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a7fde5b13a3d95ab9c51ce2fac405ad52">dev::p2p::Host::session_ioc_</a></div><div class="ttdeci">ba::io_context session_ioc_</div><div class="ttdef"><b>Definition:</b> Host.h:261</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a813c9bc08f843581281cbdafe524e6cc"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a813c9bc08f843581281cbdafe524e6cc">dev::p2p::Host::nodeTableHasNode</a></div><div class="ttdeci">bool nodeTableHasNode(Public const &amp;_id) const</div><div class="ttdef"><b>Definition:</b> Host.cpp:731</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a83680d99c9b6d0ddf1dab38b389a7368"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a83680d99c9b6d0ddf1dab38b389a7368">dev::p2p::Host::m_pendingPeerConns</a></div><div class="ttdeci">std::set&lt; Peer * &gt; m_pendingPeerConns</div><div class="ttdef"><b>Definition:</b> Host.h:295</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a843c7d676f420f50ca75b8a7ef30d5f7"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a843c7d676f420f50ca75b8a7ef30d5f7">dev::p2p::Host::addKnownNodeToNodeTable</a></div><div class="ttdeci">bool addKnownNodeToNodeTable(KnownNode const &amp;node)</div><div class="ttdef"><b>Definition:</b> Host.cpp:735</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a845ff3794d69b7063038e5424a026763"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a845ff3794d69b7063038e5424a026763">dev::p2p::Host::m_alias</a></div><div class="ttdeci">KeyPair m_alias</div><div class="ttdoc">Alias for network communication.</div><div class="ttdef"><b>Definition:</b> Host.h:284</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a8f276784e3d059456eed843a26b20042"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a8f276784e3d059456eed843a26b20042">dev::p2p::Host::peerSlotsAvailable</a></div><div class="ttdeci">bool peerSlotsAvailable(PeerSlotType _type=Ingress)</div><div class="ttdoc">Returns true if pending and connected peer count is less than maximum.</div><div class="ttdef"><b>Definition:</b> Host.cpp:703</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a9045c601adb29bff6ff0454f0f5ab521"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a9045c601adb29bff6ff0454f0f5ab521">dev::p2p::Host::peerSession</a></div><div class="ttdeci">std::shared_ptr&lt; Session &gt; peerSession(NodeID const &amp;_id) const</div><div class="ttdoc">Get session by id.</div><div class="ttdef"><b>Definition:</b> Host.cpp:321</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a9199f1dc673c788ea3685938aca7d849"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a9199f1dc673c788ea3685938aca7d849">dev::p2p::Host::KnownNode::node</a></div><div class="ttdeci">Node node</div><div class="ttdef"><b>Definition:</b> Host.h:154</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a979ca721d86fbb90b7b87d31ece7bbac"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a979ca721d86fbb90b7b87d31ece7bbac">dev::p2p::Host::keepAlivePeers</a></div><div class="ttdeci">void keepAlivePeers()</div><div class="ttdef"><b>Definition:</b> Host.cpp:570</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_a9a37597abfbd9f52329f1ffe1d8508e6"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#a9a37597abfbd9f52329f1ffe1d8508e6">dev::p2p::Host::send</a></div><div class="ttdeci">void send(NodeID const &amp;node_id, std::string capability_name, unsigned packet_type, bytes payload, std::function&lt; void()&gt; &amp;&amp;on_done={})</div><div class="ttdef"><b>Definition:</b> Host.h:119</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aa3d58b92362bb3b3fdf99fee37f0003c"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aa3d58b92362bb3b3fdf99fee37f0003c">dev::p2p::Host::connect</a></div><div class="ttdeci">void connect(std::shared_ptr&lt; Peer &gt; const &amp;_p)</div><div class="ttdef"><b>Definition:</b> Host.cpp:441</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aa6b4e7837bfc00372faf05eb794f07dd"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aa6b4e7837bfc00372faf05eb794f07dd">dev::p2p::Host::startPeerSession</a></div><div class="ttdeci">void startPeerSession(Public const &amp;_id, RLP const &amp;_hello, std::unique_ptr&lt; RLPXFrameCoder &gt; _io, std::shared_ptr&lt; RLPXSocket &gt; const &amp;_s)</div><div class="ttdef"><b>Definition:</b> Host.cpp:210</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aa933e4971277ca0f189da7a34a4e6e04"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aa933e4971277ca0f189da7a34a4e6e04">dev::p2p::Host::save_state</a></div><div class="ttdeci">void save_state() const</div><div class="ttdoc">Serialise the set of known peers.</div><div class="ttdef"><b>Definition:</b> Host.cpp:598</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aaaf8a3794157f1b39beafb26b6149fd1"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aaaf8a3794157f1b39beafb26b6149fd1">dev::p2p::Host::peerSlots</a></div><div class="ttdeci">unsigned peerSlots(PeerSlotType _type) const</div><div class="ttdef"><b>Definition:</b> Host.h:214</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aacc8759b9c06dd3ef87c9aa52d784380"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aacc8759b9c06dd3ef87c9aa52d784380">dev::p2p::Host::tcpPublic</a></div><div class="ttdeci">bi::tcp::endpoint const  &amp; tcpPublic() const</div><div class="ttdoc">Get the public TCP endpoint.</div><div class="ttdef"><b>Definition:</b> Host.h:170</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aad38bbbc7a325dcfe59ab355fc10504f"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aad38bbbc7a325dcfe59ab355fc10504f">dev::p2p::Host::m_runTimer</a></div><div class="ttdeci">ba::steady_timer m_runTimer</div><div class="ttdef"><b>Definition:</b> Host.h:269</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aaf476df01ed6bed92fbb633c6c9e49c4"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aaf476df01ed6bed92fbb633c6c9e49c4">dev::p2p::Host::m_infoLogger</a></div><div class="ttdeci">Logger m_infoLogger</div><div class="ttdef"><b>Definition:</b> Host.h:324</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aafa57ba260d2263e496285e5422fe390"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aafa57ba260d2263e496285e5422fe390">dev::p2p::Host::isAllowedEndpoint</a></div><div class="ttdeci">bool isAllowedEndpoint(NodeIPEndpoint const &amp;_endpointToCheck) const</div><div class="ttdef"><b>Definition:</b> Host.h:248</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ab13dc8199b78e5e7b21d74f3ba079cdf"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ab13dc8199b78e5e7b21d74f3ba079cdf">dev::p2p::Host::networkConfig</a></div><div class="ttdeci">NetworkConfig const  &amp; networkConfig() const</div><div class="ttdef"><b>Definition:</b> Host.h:167</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ab2c30507ea8316ba74331f5042a11bd6"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ab2c30507ea8316ba74331f5042a11bd6">dev::p2p::Host::m_lastPeerLogMessage</a></div><div class="ttdeci">std::chrono::steady_clock::time_point m_lastPeerLogMessage</div><div class="ttdef"><b>Definition:</b> Host.h:313</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ab383bea226fe2374d82e909e54b0c626"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ab383bea226fe2374d82e909e54b0c626">dev::p2p::Host::ioc_w_</a></div><div class="ttdeci">ba::executor_work_guard&lt; ba::io_context::executor_type &gt; ioc_w_</div><div class="ttdef"><b>Definition:</b> Host.h:259</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ab8336e770280ba43700db54b3020e2f5"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ab8336e770280ba43700db54b3020e2f5">dev::p2p::Host::m_sessions</a></div><div class="ttdeci">std::unordered_map&lt; NodeID, std::weak_ptr&lt; Session &gt; &gt; m_sessions</div><div class="ttdef"><b>Definition:</b> Host.h:303</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ab8ba5ebea9b1c7d20f54c1c3e4b524fd"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ab8ba5ebea9b1c7d20f54c1c3e4b524fd">dev::p2p::Host::PersistentState::enr</a></div><div class="ttdeci">ENR enr</div><div class="ttdef"><b>Definition:</b> Host.h:206</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_abd82b169ada4a372ababc61517ac1aec"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#abd82b169ada4a372ababc61517ac1aec">dev::p2p::Host::peerSessionInfos</a></div><div class="ttdeci">PeerSessionInfos peerSessionInfos() const</div><div class="ttdoc">Get peer information.</div><div class="ttdef"><b>Definition:</b> Host.cpp:489</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_abedaae2ab185ba1b802d7f27b62bf955"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#abedaae2ab185ba1b802d7f27b62bf955">dev::p2p::Host::runAcceptor</a></div><div class="ttdeci">void runAcceptor()</div><div class="ttdef"><b>Definition:</b> Host.cpp:415</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ac05b941935177dabc23d1a7968edc6d8"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ac05b941935177dabc23d1a7968edc6d8">dev::p2p::Host::id</a></div><div class="ttdeci">NodeID id() const</div><div class="ttdoc">Get our current node ID.</div><div class="ttdef"><b>Definition:</b> Host.h:101</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ac0872ab2809853dbe973189108d545fc"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ac0872ab2809853dbe973189108d545fc">dev::p2p::Host::m_nodeTable</a></div><div class="ttdeci">std::unique_ptr&lt; NodeTable &gt; m_nodeTable</div><div class="ttdoc">Node table (uses kademlia-like discovery).</div><div class="ttdef"><b>Definition:</b> Host.h:317</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ac1da64c1d556c6f4e5089969ea4afa58"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ac1da64c1d556c6f4e5089969ea4afa58">dev::p2p::Host::m_peers</a></div><div class="ttdeci">std::unordered_map&lt; NodeID, std::shared_ptr&lt; Peer &gt; &gt; m_peers</div><div class="ttdef"><b>Definition:</b> Host.h:301</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ac23d1da633a7cd9f7e02dcdbf82808af"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ac23d1da633a7cd9f7e02dcdbf82808af">dev::p2p::Host::session_ioc_w_</a></div><div class="ttdeci">ba::executor_work_guard&lt; ba::io_context::executor_type &gt; session_ioc_w_</div><div class="ttdef"><b>Definition:</b> Host.h:262</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ac68d3ac5989d6af7792b176b98d3b017"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ac68d3ac5989d6af7792b176b98d3b017">dev::p2p::Host::getSupportedCapabilities</a></div><div class="ttdeci">Capabilities getSupportedCapabilities()</div><div class="ttdef"><b>Definition:</b> Host.h:87</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ac6dbbf8be1355d865b4ac2834dc946ab"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ac6dbbf8be1355d865b4ac2834dc946ab">dev::p2p::Host::getNodeCount</a></div><div class="ttdeci">auto getNodeCount() const</div><div class="ttdef"><b>Definition:</b> Host.h:103</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aca6d02fb39902063f0ca8d0ac53eeaa7"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aca6d02fb39902063f0ca8d0ac53eeaa7">dev::p2p::Host::m_detailsLogger</a></div><div class="ttdeci">Logger m_detailsLogger</div><div class="ttdef"><b>Definition:</b> Host.h:323</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_acedaf58b23cee7ba6d8478c75ac7818d"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#acedaf58b23cee7ba6d8478c75ac7818d">dev::p2p::Host::m_listenPort</a></div><div class="ttdeci">unsigned m_listenPort</div><div class="ttdef"><b>Definition:</b> Host.h:281</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ad7bea36bbfe3b25bec9cbd9eb1d9adad"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ad7bea36bbfe3b25bec9cbd9eb1d9adad">dev::p2p::Host::logActivePeers</a></div><div class="ttdeci">void logActivePeers()</div><div class="ttdoc">Log count of active peers and information about each peer.</div><div class="ttdef"><b>Definition:</b> Host.cpp:586</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ad918d3eff55c8d2357db166c7976f97d"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ad918d3eff55c8d2357db166c7976f97d">dev::p2p::Host::invalidateNode</a></div><div class="ttdeci">void invalidateNode(NodeID const &amp;_node)</div><div class="ttdef"><b>Definition:</b> Host.cpp:439</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_adb22daf3235b572bec2caca6a2568960"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#adb22daf3235b572bec2caca6a2568960">dev::p2p::Host::m_stretchPeers</a></div><div class="ttdeci">unsigned m_stretchPeers</div><div class="ttdef"><b>Definition:</b> Host.h:278</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ade085b0d49ad8fb31fad2fd7a4594848"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ade085b0d49ad8fb31fad2fd7a4594848">dev::p2p::Host::CapabilityList</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; CapabilityFace &gt; &gt; CapabilityList</div><div class="ttdef"><b>Definition:</b> Host.h:75</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_adec83ffec95643c42e54424e4a622115"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#adec83ffec95643c42e54424e4a622115">dev::p2p::Host::ioc_</a></div><div class="ttdeci">ba::io_context ioc_</div><div class="ttdef"><b>Definition:</b> Host.h:258</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_adf3f35da26402aa18fff85051f373267"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#adf3f35da26402aa18fff85051f373267">dev::p2p::Host::peer_count_</a></div><div class="ttdeci">size_t peer_count_() const</div><div class="ttdoc">Get number of peers connected.</div><div class="ttdef"><b>Definition:</b> Host.cpp:497</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_adf47a1359320e91b5e042f6bdff1895f"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#adf47a1359320e91b5e042f6bdff1895f">dev::p2p::Host::taraxa_conf_</a></div><div class="ttdeci">TaraxaNetworkConfig taraxa_conf_</div><div class="ttdef"><b>Definition:</b> Host.h:276</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ae22165e38e451d0e7142e5baf871e711"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ae22165e38e451d0e7142e5baf871e711">dev::p2p::Host::m_idealPeerCount</a></div><div class="ttdeci">unsigned m_idealPeerCount</div><div class="ttdoc">Ideal number of peers to be connected to.</div><div class="ttdef"><b>Definition:</b> Host.h:277</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_ae64ad856a2cf9f11c1f3209caf7c3bca"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#ae64ad856a2cf9f11c1f3209caf7c3bca">dev::p2p::Host::nodeInfo</a></div><div class="ttdeci">p2p::NodeInfo nodeInfo() const</div><div class="ttdoc">Get the node information.</div><div class="ttdef"><b>Definition:</b> Host.h:173</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aedc2485cf79df61d01fa34af8a0c03b6"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aedc2485cf79df61d01fa34af8a0c03b6">dev::p2p::Host::do_discov</a></div><div class="ttdeci">ba::io_context::count_type do_discov()</div><div class="ttdef"><b>Definition:</b> Host.cpp:164</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_aedf51ccc174014cad0f68a92e1800c7c"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#aedf51ccc174014cad0f68a92e1800c7c">dev::p2p::Host::getNodes</a></div><div class="ttdeci">std::list&lt; NodeEntry &gt; getNodes() const</div><div class="ttdef"><b>Definition:</b> Host.h:105</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_af172022af7fd54783396778c6c64d208"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#af172022af7fd54783396778c6c64d208">dev::p2p::Host::isRunning</a></div><div class="ttdeci">bool isRunning()</div><div class="ttdef"><b>Definition:</b> Host.h:95</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_af412e2b9651b98154f1916bdbf42d22c"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#af412e2b9651b98154f1916bdbf42d22c">dev::p2p::Host::m_lastPing</a></div><div class="ttdeci">std::chrono::steady_clock::time_point m_lastPing</div><div class="ttdoc">Time we sent the last ping to all peers.</div><div class="ttdef"><b>Definition:</b> Host.h:309</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_af45455e39c329fdc3efe6af597288b6f"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#af45455e39c329fdc3efe6af597288b6f">dev::p2p::Host::enr</a></div><div class="ttdeci">ENR enr() const</div><div class="ttdoc">Get Ethereum Node Record of the host.</div><div class="ttdef"><b>Definition:</b> Host.h:182</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_af48111b36108125508b64b6e3e1be302"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#af48111b36108125508b64b6e3e1be302">dev::p2p::Host::KnownNode::lastPongReceivedTime</a></div><div class="ttdeci">uint32_t lastPongReceivedTime</div><div class="ttdef"><b>Definition:</b> Host.h:155</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_af5f30d38696533a1f32dcd4433ccb91d"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#af5f30d38696533a1f32dcd4433ccb91d">dev::p2p::Host::peer_count</a></div><div class="ttdeci">uint64_t peer_count() const</div><div class="ttdef"><b>Definition:</b> Host.h:97</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_structdev_1_1p2p_1_1_host_1_1_known_node"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#structdev_1_1p2p_1_1_host_1_1_known_node">dev::p2p::Host::KnownNode</a></div><div class="ttdef"><b>Definition:</b> Host.h:153</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_host_html_structdev_1_1p2p_1_1_host_1_1_persistent_state"><div class="ttname"><a href="structdev_1_1p2p_1_1_host.html#structdev_1_1p2p_1_1_host_1_1_persistent_state">dev::p2p::Host::PersistentState</a></div><div class="ttdoc">Deserialise the data and populate the set of known peers.</div><div class="ttdef"><b>Definition:</b> Host.h:205</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_network_config_html"><div class="ttname"><a href="structdev_1_1p2p_1_1_network_config.html">dev::p2p::NetworkConfig</a></div><div class="ttdef"><b>Definition:</b> Network.h:25</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_network_config_html_a307da441278a1eeaa417d47809fca66c"><div class="ttname"><a href="structdev_1_1p2p_1_1_network_config.html#a307da441278a1eeaa417d47809fca66c">dev::p2p::NetworkConfig::publicIPAddress</a></div><div class="ttdeci">std::string publicIPAddress</div><div class="ttdoc">Addressing.</div><div class="ttdef"><b>Definition:</b> Network.h:51</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_network_config_html_a89ae0e9b321e6c0ea8d0f71fec1ba15b"><div class="ttname"><a href="structdev_1_1p2p_1_1_network_config.html#a89ae0e9b321e6c0ea8d0f71fec1ba15b">dev::p2p::NetworkConfig::allowLocalDiscovery</a></div><div class="ttdeci">bool allowLocalDiscovery</div><div class="ttdef"><b>Definition:</b> Network.h:59</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_network_config_html_af35bc6f6e0506b0cfec64ce076a08f37"><div class="ttname"><a href="structdev_1_1p2p_1_1_network_config.html#af35bc6f6e0506b0cfec64ce076a08f37">dev::p2p::NetworkConfig::listenPort</a></div><div class="ttdeci">unsigned short listenPort</div><div class="ttdef"><b>Definition:</b> Network.h:53</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html">dev::p2p::NodeInfo</a></div><div class="ttdef"><b>Definition:</b> Host.h:50</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html_a018866d892016661f591b64a825bbf44"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html#a018866d892016661f591b64a825bbf44">dev::p2p::NodeInfo::enode</a></div><div class="ttdeci">std::string enode() const</div><div class="ttdef"><b>Definition:</b> Host.h:56</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html_a1b27ddf82a0e7c96cb10362d602b5be4"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html#a1b27ddf82a0e7c96cb10362d602b5be4">dev::p2p::NodeInfo::NodeInfo</a></div><div class="ttdeci">NodeInfo()=default</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html_a22e2f8f9fcab879bda81ec28060a2ebf"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html#a22e2f8f9fcab879bda81ec28060a2ebf">dev::p2p::NodeInfo::enr</a></div><div class="ttdeci">std::string enr</div><div class="ttdef"><b>Definition:</b> Host.h:62</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html_a6e4a76a0cc41e8b3d42d30494cdd6754"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html#a6e4a76a0cc41e8b3d42d30494cdd6754">dev::p2p::NodeInfo::port</a></div><div class="ttdeci">unsigned port</div><div class="ttdef"><b>Definition:</b> Host.h:60</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html_a8b0ed26d959c3103eb65095b157f178f"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html#a8b0ed26d959c3103eb65095b157f178f">dev::p2p::NodeInfo::version</a></div><div class="ttdeci">std::string version</div><div class="ttdef"><b>Definition:</b> Host.h:61</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html_a9121f24ea6f963cfae1d7c32a7a8ab11"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html#a9121f24ea6f963cfae1d7c32a7a8ab11">dev::p2p::NodeInfo::address</a></div><div class="ttdeci">std::string address</div><div class="ttdef"><b>Definition:</b> Host.h:59</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html_aa1e99e7d5cfcedf999eefdcbab8ef868"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html#aa1e99e7d5cfcedf999eefdcbab8ef868">dev::p2p::NodeInfo::id</a></div><div class="ttdeci">NodeID id</div><div class="ttdef"><b>Definition:</b> Host.h:58</div></div>
<div class="ttc" id="astructdev_1_1p2p_1_1_node_info_html_adf35992e58420733e7cca73562872766"><div class="ttname"><a href="structdev_1_1p2p_1_1_node_info.html#adf35992e58420733e7cca73562872766">dev::p2p::NodeInfo::NodeInfo</a></div><div class="ttdeci">NodeInfo(NodeID const &amp;_id, std::string const &amp;_address, unsigned _port, std::string const &amp;_version, std::string const &amp;_enr)</div><div class="ttdef"><b>Definition:</b> Host.h:52</div></div>
<div class="ttc" id="astructstd_1_1hash_3_01pair_3_01dev_1_1p2p_1_1_node_i_d_00_01string_01_4_01_4_html_aab8f501ba9a22e9afbef9eadd42cca87"><div class="ttname"><a href="structstd_1_1hash_3_01pair_3_01dev_1_1p2p_1_1_node_i_d_00_01string_01_4_01_4.html#aab8f501ba9a22e9afbef9eadd42cca87">std::hash&lt; pair&lt; dev::p2p::NodeID, string &gt; &gt;::operator()</a></div><div class="ttdeci">size_t operator()(pair&lt; dev::p2p::NodeID, string &gt; const &amp;_value) const</div><div class="ttdef"><b>Definition:</b> Host.h:35</div></div>
<div class="ttc" id="ataraxa_8hpp_html"><div class="ttname"><a href="taraxa_8hpp.html">taraxa.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_bb5b5f24c752375767f5169004c876a2.html">aleth</a></li><li class="navelem"><a class="el" href="dir_59155f4a0f275549a8e15d23ee67ff9f.html">libp2p</a></li><li class="navelem"><a class="el" href="_host_8h.html">Host.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TARAXA: dev::p2p::NodeTable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TARAXA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdev_1_1p2p_1_1_node_table.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classdev_1_1p2p_1_1_node_table-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dev::p2p::NodeTable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_node_table_8h_source.html">NodeTable.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for dev::p2p::NodeTable:</div>
<div class="dyncontent">
<div class="center"><img src="classdev_1_1p2p_1_1_node_table__coll__graph.png" border="0" usemap="#adev_1_1p2p_1_1_node_table_coll__map" alt="Collaboration graph"/></div>
<map name="adev_1_1p2p_1_1_node_table_coll__map" id="adev_1_1p2p_1_1_node_table_coll__map">
<area shape="rect" title=" " alt="" coords="644,215,797,241"/>
<area shape="rect" href="structdev_1_1p2p_1_1_u_d_p_socket_events.html" title="Interface which a UDPSocket&#39;s owner must implement." alt="" coords="213,9,413,36"/>
<area shape="rect" title=" " alt="" coords="281,85,345,112"/>
<area shape="rect" href="classdev_1_1p2p_1_1_endpoint_tracker.html" title=" " alt="" coords="219,136,407,163"/>
<area shape="rect" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html" title="IPv4,UDP/TCP endpoints." alt="" coords="219,187,407,213"/>
<area shape="rect" href="classdev_1_1_secure_fixed_hash.html" title=" " alt="" coords="231,238,395,279"/>
<area shape="rect" href="classdev_1_1_fixed_hash.html" title=" " alt="" coords="5,245,164,272"/>
<area shape="rect" href="classdev_1_1_fixed_hash.html" title=" " alt="" coords="233,304,393,331"/>
<area shape="rect" href="classdev_1_1p2p_1_1_e_n_r.html" title="Class representing Ethereum Node Record &#45; see EIP&#45;778." alt="" coords="257,355,369,381"/>
<area shape="rect" title=" " alt="" coords="283,412,343,439"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structdev_1_1p2p_1_1_node_table_1_1_node_bucket"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#structdev_1_1p2p_1_1_node_table_1_1_node_bucket">NodeBucket</a></td></tr>
<tr class="separator:structdev_1_1p2p_1_1_node_table_1_1_node_bucket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdev_1_1p2p_1_1_node_table_1_1_node_validation.html">NodeValidation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae6be78eae27ea37219e69e649699431b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ae6be78eae27ea37219e69e649699431b">NodeTable</a> (ba::io_context &amp;_io, <a class="el" href="classdev_1_1_key_pair.html">KeyPair</a> const &amp;_alias, <a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a> const &amp;_endpoint, <a class="el" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a> const &amp;_enr, bool _enabled=true, bool _allowLocalDiscovery=false, bool is_boot_node=false, unsigned chain_id=0)</td></tr>
<tr class="separator:ae6be78eae27ea37219e69e649699431b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99398857f494dfdd15d0ee17ac4fb44a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a99398857f494dfdd15d0ee17ac4fb44a">~NodeTable</a> ()</td></tr>
<tr class="separator:a99398857f494dfdd15d0ee17ac4fb44a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8016d89e5933de76a5a03293dc8f9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a1c8016d89e5933de76a5a03293dc8f9d">setEventHandler</a> (<a class="el" href="classdev_1_1p2p_1_1_node_table_event_handler.html">NodeTableEventHandler</a> *_handler)</td></tr>
<tr class="memdesc:a1c8016d89e5933de76a5a03293dc8f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set event handler for NodeEntryAdded and NodeEntryDropped events.  <a href="classdev_1_1p2p_1_1_node_table.html#a1c8016d89e5933de76a5a03293dc8f9d">More...</a><br /></td></tr>
<tr class="separator:a1c8016d89e5933de76a5a03293dc8f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eaaf6d40dc8fc2bf6381b87c709197d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a5eaaf6d40dc8fc2bf6381b87c709197d">processEvents</a> ()</td></tr>
<tr class="separator:a5eaaf6d40dc8fc2bf6381b87c709197d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06154fc4e44ce793054bf5d8d295ff8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a06154fc4e44ce793054bf5d8d295ff8e">addNode</a> (<a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;_node)</td></tr>
<tr class="separator:a06154fc4e44ce793054bf5d8d295ff8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97075d7b503ade4e8b87a14627f1b1ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a97075d7b503ade4e8b87a14627f1b1ef">addKnownNode</a> (<a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;_node, uint32_t _lastPongReceivedTime, uint32_t _lastPongSentTime)</td></tr>
<tr class="separator:a97075d7b503ade4e8b87a14627f1b1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c2f35c340aae9dc186a1474f7533da"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a86c2f35c340aae9dc186a1474f7533da">nodes</a> () const</td></tr>
<tr class="memdesc:a86c2f35c340aae9dc186a1474f7533da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns list of node ids active in node table.  <a href="classdev_1_1p2p_1_1_node_table.html#a86c2f35c340aae9dc186a1474f7533da">More...</a><br /></td></tr>
<tr class="separator:a86c2f35c340aae9dc186a1474f7533da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ef68d2479559281da7b817783bc1ef"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a46ef68d2479559281da7b817783bc1ef">count</a> () const</td></tr>
<tr class="memdesc:a46ef68d2479559281da7b817783bc1ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns node count.  <a href="classdev_1_1p2p_1_1_node_table.html#a46ef68d2479559281da7b817783bc1ef">More...</a><br /></td></tr>
<tr class="separator:a46ef68d2479559281da7b817783bc1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab014c448a521aa00ca72dbd2b7241d90"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ab014c448a521aa00ca72dbd2b7241d90">snapshot</a> () const</td></tr>
<tr class="memdesc:ab014c448a521aa00ca72dbd2b7241d90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns snapshot of table.  <a href="classdev_1_1p2p_1_1_node_table.html#ab014c448a521aa00ca72dbd2b7241d90">More...</a><br /></td></tr>
<tr class="separator:ab014c448a521aa00ca72dbd2b7241d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb299588ec7ad49cfa6e2e0f2cb776b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#acdb299588ec7ad49cfa6e2e0f2cb776b">haveNode</a> (<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;_id)</td></tr>
<tr class="memdesc:acdb299588ec7ad49cfa6e2e0f2cb776b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if node id is in node table.  <a href="classdev_1_1p2p_1_1_node_table.html#acdb299588ec7ad49cfa6e2e0f2cb776b">More...</a><br /></td></tr>
<tr class="separator:acdb299588ec7ad49cfa6e2e0f2cb776b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9be54199e39b50f063f37d92fcc8d8eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a9be54199e39b50f063f37d92fcc8d8eb">node</a> (<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;_id)</td></tr>
<tr class="separator:a9be54199e39b50f063f37d92fcc8d8eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1945ef79bd5cbfc5f50d100b2f0af82d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a1945ef79bd5cbfc5f50d100b2f0af82d">invalidateNode</a> (<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;_id)</td></tr>
<tr class="separator:a1945ef79bd5cbfc5f50d100b2f0af82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4a04a3067a97ed62e00b208894e0a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#abb4a04a3067a97ed62e00b208894e0a4">hostENR</a> () const</td></tr>
<tr class="separator:abb4a04a3067a97ed62e00b208894e0a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606d23506c7726534258b983e437f96b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a606d23506c7726534258b983e437f96b">runBackgroundTask</a> (std::chrono::milliseconds const &amp;_period, std::shared_ptr&lt; ba::steady_timer &gt; _timer, std::function&lt; void()&gt; _f)</td></tr>
<tr class="separator:a606d23506c7726534258b983e437f96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ccec904eb8e4cb99ff1f8046620dc91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a3ccec904eb8e4cb99ff1f8046620dc91">cancelTimer</a> (std::shared_ptr&lt; ba::steady_timer &gt; _timer)</td></tr>
<tr class="separator:a3ccec904eb8e4cb99ff1f8046620dc91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2aa17544301359305d2c4fa87f7ae810"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a2aa17544301359305d2c4fa87f7ae810">distance</a> (<a class="el" href="namespacedev.html#ac5875388a1e0345bba6f8219172a6644">h256</a> const &amp;_a, <a class="el" href="namespacedev.html#ac5875388a1e0345bba6f8219172a6644">h256</a> const &amp;_b)</td></tr>
<tr class="separator:a2aa17544301359305d2c4fa87f7ae810"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ab246191ad4fefa9c29808ff63580445e"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ab246191ad4fefa9c29808ff63580445e">c_bondingTimeSeconds</a> {12 * 60 * 60}</td></tr>
<tr class="separator:ab246191ad4fefa9c29808ff63580445e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afc6dc5ffedf8e3229715efb22bf7b1f7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#afc6dc5ffedf8e3229715efb22bf7b1f7">isValidNode</a> (<a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;_node) const</td></tr>
<tr class="separator:afc6dc5ffedf8e3229715efb22bf7b1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b4a10308ac6172798ed668751f25b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a12b4a10308ac6172798ed668751f25b9">ping</a> (<a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;_node, std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; _replacementNodeEntry={})</td></tr>
<tr class="separator:a12b4a10308ac6172798ed668751f25b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cefcb7a5195fba7d3c9c13a0b501204"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a9cefcb7a5195fba7d3c9c13a0b501204">schedulePing</a> (<a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;_node)</td></tr>
<tr class="separator:a9cefcb7a5195fba7d3c9c13a0b501204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d69847fabec1444cfb91f4b7371a37b"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a8d69847fabec1444cfb91f4b7371a37b">nodeEntry</a> (<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;_id)</td></tr>
<tr class="separator:a8d69847fabec1444cfb91f4b7371a37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ffc37a4d57247b6a3df373722dfc08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a16ffc37a4d57247b6a3df373722dfc08">doDiscoveryRound</a> (<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> _target, unsigned _round, std::shared_ptr&lt; std::set&lt; std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&gt;&gt; _tried)</td></tr>
<tr class="separator:a16ffc37a4d57247b6a3df373722dfc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76691f7c1e6598b90b7f89ce2696e844"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a76691f7c1e6598b90b7f89ce2696e844">nearestNodeEntries</a> (<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;_target)</td></tr>
<tr class="memdesc:a76691f7c1e6598b90b7f89ce2696e844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns s_bucketSize nodes from node table which are closest to target.  <a href="classdev_1_1p2p_1_1_node_table.html#a76691f7c1e6598b90b7f89ce2696e844">More...</a><br /></td></tr>
<tr class="separator:a76691f7c1e6598b90b7f89ce2696e844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbf2e66f19486bb30e5f8ce6832943b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a8cbf2e66f19486bb30e5f8ce6832943b">evict</a> (<a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> const &amp;_leastSeen, std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; _replacement)</td></tr>
<tr class="separator:a8cbf2e66f19486bb30e5f8ce6832943b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee81c2ab6eac0d68f039f0aa338e0e25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#aee81c2ab6eac0d68f039f0aa338e0e25">noteActiveNode</a> (std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; _nodeEntry)</td></tr>
<tr class="separator:aee81c2ab6eac0d68f039f0aa338e0e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab7bf299174016952f720ed9d682013"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a7ab7bf299174016952f720ed9d682013">dropNode</a> (std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; _n)</td></tr>
<tr class="separator:a7ab7bf299174016952f720ed9d682013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc79fb500db389c4480534a9c316e8ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#structdev_1_1p2p_1_1_node_table_1_1_node_bucket">NodeBucket</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#acc79fb500db389c4480534a9c316e8ee">bucket_UNSAFE</a> (<a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> const *_n)</td></tr>
<tr class="separator:acc79fb500db389c4480534a9c316e8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe784e49f8100046c2195745be005286"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#afe784e49f8100046c2195745be005286">onPacketReceived</a> (<a class="el" href="structdev_1_1p2p_1_1_u_d_p_socket_face.html">UDPSocketFace</a> *, bi::udp::endpoint const &amp;_from, <a class="el" href="namespacedev.html#ab457e5f6cc31fb60752381cdca22b4c4">bytesConstRef</a> _packet) override</td></tr>
<tr class="memdesc:afe784e49f8100046c2195745be005286"><td class="mdescLeft">&#160;</td><td class="mdescRight">General <a class="el" href="classdev_1_1p2p_1_1_network.html" title="Network Class Static network operations and interface(s).">Network</a> Events.  <a href="classdev_1_1p2p_1_1_node_table.html#afe784e49f8100046c2195745be005286">More...</a><br /></td></tr>
<tr class="separator:afe784e49f8100046c2195745be005286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8616ccd13a0d9b0a1f9770ea8b39db81"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a8616ccd13a0d9b0a1f9770ea8b39db81">handlePong</a> (bi::udp::endpoint const &amp;_from, <a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;_packet)</td></tr>
<tr class="separator:a8616ccd13a0d9b0a1f9770ea8b39db81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9134030b296b3bd049009ad780237431"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a9134030b296b3bd049009ad780237431">handleNeighbours</a> (bi::udp::endpoint const &amp;_from, <a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;_packet)</td></tr>
<tr class="separator:a9134030b296b3bd049009ad780237431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe55ec9227a16c56cd773eadf85be5c7"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#afe55ec9227a16c56cd773eadf85be5c7">handleFindNode</a> (bi::udp::endpoint const &amp;_from, <a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;_packet)</td></tr>
<tr class="separator:afe55ec9227a16c56cd773eadf85be5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611d013b0cf8ee20530d4e448d849898"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a611d013b0cf8ee20530d4e448d849898">handlePingNode</a> (bi::udp::endpoint const &amp;_from, <a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;_packet)</td></tr>
<tr class="separator:a611d013b0cf8ee20530d4e448d849898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fcb0bd36dd0ad9938489d8b22c52bda"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a0fcb0bd36dd0ad9938489d8b22c52bda">handleENRRequest</a> (bi::udp::endpoint const &amp;_from, <a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;_packet)</td></tr>
<tr class="separator:a0fcb0bd36dd0ad9938489d8b22c52bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddd57cf476103eea8dcdb5053fbffa1"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a4ddd57cf476103eea8dcdb5053fbffa1">handleENRResponse</a> (bi::udp::endpoint const &amp;_from, <a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;_packet)</td></tr>
<tr class="separator:a4ddd57cf476103eea8dcdb5053fbffa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a00cb60306414b39fcef52adee56f38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a3a00cb60306414b39fcef52adee56f38">onSocketDisconnected</a> (<a class="el" href="structdev_1_1p2p_1_1_u_d_p_socket_face.html">UDPSocketFace</a> *) override</td></tr>
<tr class="memdesc:a3a00cb60306414b39fcef52adee56f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by m_socket when socket is disconnected.  <a href="classdev_1_1p2p_1_1_node_table.html#a3a00cb60306414b39fcef52adee56f38">More...</a><br /></td></tr>
<tr class="separator:a3a00cb60306414b39fcef52adee56f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e312771d262e0b4e8a02a4a45fcfeb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a9e312771d262e0b4e8a02a4a45fcfeb6">doDiscovery</a> ()</td></tr>
<tr class="memdesc:a9e312771d262e0b4e8a02a4a45fcfeb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tasks.  <a href="classdev_1_1p2p_1_1_node_table.html#a9e312771d262e0b4e8a02a4a45fcfeb6">More...</a><br /></td></tr>
<tr class="separator:a9e312771d262e0b4e8a02a4a45fcfeb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dea38ad360fe5a2eafbd822a0774ed0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a6dea38ad360fe5a2eafbd822a0774ed0">doHandleTimeouts</a> ()</td></tr>
<tr class="separator:a6dea38ad360fe5a2eafbd822a0774ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a008f3077a46a7dbc8cd14cc00f76aa49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a008f3077a46a7dbc8cd14cc00f76aa49">doEndpointTracking</a> ()</td></tr>
<tr class="separator:a008f3077a46a7dbc8cd14cc00f76aa49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268445591f71b43fc8eb9e085cb1fa7c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a268445591f71b43fc8eb9e085cb1fa7c">nextRequestExpirationTime</a> () const</td></tr>
<tr class="separator:a268445591f71b43fc8eb9e085cb1fa7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bd6cc00f6ebc92d808537b5dd2bd19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a81bd6cc00f6ebc92d808537b5dd2bd19">isAllowedEndpoint</a> (<a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a> const &amp;_endpointToCheck) const</td></tr>
<tr class="separator:a81bd6cc00f6ebc92d808537b5dd2bd19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc947166ab0d0d53c0ae82e050d14301"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#acc947166ab0d0d53c0ae82e050d14301">getSourceEndpoint</a> (bi::udp::endpoint const &amp;from, <a class="el" href="structdev_1_1p2p_1_1_ping_node.html">PingNode</a> const &amp;packet)</td></tr>
<tr class="separator:acc947166ab0d0d53c0ae82e050d14301"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a689a7de957873135ca06050cae76d6d4"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a689a7de957873135ca06050cae76d6d4">s_bucketSize</a> = <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a6a59a9d8e19ac764fffc82d17d990fb9">NODE_BUCKET_SIZE</a></td></tr>
<tr class="separator:a689a7de957873135ca06050cae76d6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe7c62106d53cd1b582e706ff62764ea"><td class="memItemLeft" align="right" valign="top">ba::strand&lt; ba::io_context::executor_type &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#afe7c62106d53cd1b582e706ff62764ea">strand_</a></td></tr>
<tr class="separator:afe7c62106d53cd1b582e706ff62764ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0befe57f0dca2c986be36ed5dc2e39fa"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classdev_1_1p2p_1_1_node_table_event_handler.html">NodeTableEventHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a0befe57f0dca2c986be36ed5dc2e39fa">m_nodeEventHandler</a></td></tr>
<tr class="memdesc:a0befe57f0dca2c986be36ed5dc2e39fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler for node events.  <a href="classdev_1_1p2p_1_1_node_table.html#a0befe57f0dca2c986be36ed5dc2e39fa">More...</a><br /></td></tr>
<tr class="separator:a0befe57f0dca2c986be36ed5dc2e39fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659d78d0e12e02b9aaa26b9931d2f70d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a659d78d0e12e02b9aaa26b9931d2f70d">m_hostNodeID</a></td></tr>
<tr class="separator:a659d78d0e12e02b9aaa26b9931d2f70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff576a0514cb60c39904ff351a48f56"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacedev.html#ac5875388a1e0345bba6f8219172a6644">h256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a2ff576a0514cb60c39904ff351a48f56">m_hostNodeIDHash</a></td></tr>
<tr class="separator:a2ff576a0514cb60c39904ff351a48f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5d1b5c0bfdd950d4c944fbbf0f9ea4"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a4f5d1b5c0bfdd950d4c944fbbf0f9ea4">m_allowLocalDiscovery</a></td></tr>
<tr class="separator:a4f5d1b5c0bfdd950d4c944fbbf0f9ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987e309d1c611277c441008849a503a7"><td class="memItemLeft" align="right" valign="top">bi::address const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a987e309d1c611277c441008849a503a7">m_hostStaticIP</a></td></tr>
<tr class="separator:a987e309d1c611277c441008849a503a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e01f80c4f0ee08028eaadf22baf53f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a67e01f80c4f0ee08028eaadf22baf53f">m_hostNodeEndpoint</a></td></tr>
<tr class="separator:a67e01f80c4f0ee08028eaadf22baf53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c3b23de13cc3d04d5602326ef5b506"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a29c3b23de13cc3d04d5602326ef5b506">m_hostENR</a></td></tr>
<tr class="separator:a29c3b23de13cc3d04d5602326ef5b506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc582e124a2456cdde27b5ac4374c0e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedev.html#a28059f0e0521741cce21cf5fd419bdf4">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#adc582e124a2456cdde27b5ac4374c0e4">m_hostENRMutex</a></td></tr>
<tr class="separator:adc582e124a2456cdde27b5ac4374c0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f1d3cc894f7052118f372fdaa39569"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedev.html#a04a16f8a4c264a7868151d49e2223f04">Secret</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#aa0f1d3cc894f7052118f372fdaa39569">m_secret</a></td></tr>
<tr class="memdesc:aa0f1d3cc894f7052118f372fdaa39569"><td class="mdescLeft">&#160;</td><td class="mdescRight">This nodes secret key.  <a href="classdev_1_1p2p_1_1_node_table.html#aa0f1d3cc894f7052118f372fdaa39569">More...</a><br /></td></tr>
<tr class="separator:aa0f1d3cc894f7052118f372fdaa39569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ac2faa8cf21a55b1b0be71dd917573"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedev.html#a28059f0e0521741cce21cf5fd419bdf4">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a90ac2faa8cf21a55b1b0be71dd917573">x_nodes</a></td></tr>
<tr class="separator:a90ac2faa8cf21a55b1b0be71dd917573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eaefa5266831ef6283822528c4b6f98"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a>, std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a3eaefa5266831ef6283822528c4b6f98">m_allNodes</a></td></tr>
<tr class="separator:a3eaefa5266831ef6283822528c4b6f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27070a3a30c30c58fdbe20ea526b5ef7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedev.html#a28059f0e0521741cce21cf5fd419bdf4">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a27070a3a30c30c58fdbe20ea526b5ef7">x_state</a></td></tr>
<tr class="separator:a27070a3a30c30c58fdbe20ea526b5ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75fbddfbe50ff0356a9e9b443560cc6"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a>, bi::udp::endpoint &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#aa75fbddfbe50ff0356a9e9b443560cc6">m_id2IpMap</a></td></tr>
<tr class="memdesc:aa75fbddfbe50ff0356a9e9b443560cc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This map is used for maping between node id and real network IP.  <a href="classdev_1_1p2p_1_1_node_table.html#aa75fbddfbe50ff0356a9e9b443560cc6">More...</a><br /></td></tr>
<tr class="separator:aa75fbddfbe50ff0356a9e9b443560cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad971773454cd84a33b419063e6af8e7c"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; bi::udp::endpoint, <a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ad971773454cd84a33b419063e6af8e7c">m_ipMappings</a></td></tr>
<tr class="memdesc:ad971773454cd84a33b419063e6af8e7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This map keeps tracking between real IP and IP reported by node (external IP)  <a href="classdev_1_1p2p_1_1_node_table.html#ad971773454cd84a33b419063e6af8e7c">More...</a><br /></td></tr>
<tr class="separator:ad971773454cd84a33b419063e6af8e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0785d3a39f317bc0b98c9e73d67879d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedev.html#a28059f0e0521741cce21cf5fd419bdf4">Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a0785d3a39f317bc0b98c9e73d67879d9">x_ips</a></td></tr>
<tr class="separator:a0785d3a39f317bc0b98c9e73d67879d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3247400d659f990804b6240fe8c24738"><td class="memItemLeft" align="right" valign="top">std::array&lt; <a class="el" href="classdev_1_1p2p_1_1_node_table.html#structdev_1_1p2p_1_1_node_table_1_1_node_bucket">NodeBucket</a>, <a class="el" href="classdev_1_1p2p_1_1_node_table.html#ade27d74d11db98a6b0ef30d82a16e025">s_bins</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a3247400d659f990804b6240fe8c24738">m_buckets</a></td></tr>
<tr class="separator:a3247400d659f990804b6240fe8c24738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cff124ef68e05d01dd28a194a67d1e9"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a84e16c16acbcbc97008211e37c0268e1">NodeIdTimePoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a4cff124ef68e05d01dd28a194a67d1e9">m_sentFindNodes</a></td></tr>
<tr class="memdesc:a4cff124ef68e05d01dd28a194a67d1e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeouts for <a class="el" href="structdev_1_1p2p_1_1_find_node.html">FindNode</a> requests.  <a href="classdev_1_1p2p_1_1_node_table.html#a4cff124ef68e05d01dd28a194a67d1e9">More...</a><br /></td></tr>
<tr class="separator:a4cff124ef68e05d01dd28a194a67d1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bcd7ce68cec06ca89fc584e0c174d9e"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a9b4251b5ab00c60b1be3a8d4fceebc58">NodeSocket</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a7bcd7ce68cec06ca89fc584e0c174d9e">m_socket</a></td></tr>
<tr class="separator:a7bcd7ce68cec06ca89fc584e0c174d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d9a153f6d72f9fd7915952d55ec69f"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; bi::udp::endpoint, <a class="el" href="structdev_1_1p2p_1_1_node_table_1_1_node_validation.html">NodeValidation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ae1d9a153f6d72f9fd7915952d55ec69f">m_sentPings</a></td></tr>
<tr class="separator:ae1d9a153f6d72f9fd7915952d55ec69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c64ace79e05f17576bcde63dd5e200"><td class="memItemLeft" align="right" valign="top">const std::chrono::seconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a92c64ace79e05f17576bcde63dd5e200">m_requestTimeToLive</a></td></tr>
<tr class="separator:a92c64ace79e05f17576bcde63dd5e200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdbddbd02225acb05be4680c60725770"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedev.html#a47e383bc41ef3b6ad64b26324a79b948">Logger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#afdbddbd02225acb05be4680c60725770">m_logger</a> {<a class="el" href="namespacedev.html#adb1208e9bab817458c3b4a94ed06cfc6">createLogger</a>(<a class="el" href="namespacedev.html#a7fc4649ee123b939f2786c757b3d4491a73f1cfe530632048dd623729258af859">VerbosityDebug</a>, &quot;discov&quot;)}</td></tr>
<tr class="separator:afdbddbd02225acb05be4680c60725770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5040a39ab412f595949822dc80854ded"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdev_1_1p2p_1_1_endpoint_tracker.html">EndpointTracker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a5040a39ab412f595949822dc80854ded">m_endpointTracker</a></td></tr>
<tr class="separator:a5040a39ab412f595949822dc80854ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f9a2ca450752e1315377a8fd4252ff"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; ba::steady_timer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ab2f9a2ca450752e1315377a8fd4252ff">m_discoveryTimer</a></td></tr>
<tr class="separator:ab2f9a2ca450752e1315377a8fd4252ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a5f68046a38ea9cdcc3a3506cee037"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; ba::steady_timer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a65a5f68046a38ea9cdcc3a3506cee037">m_timeoutsTimer</a></td></tr>
<tr class="separator:a65a5f68046a38ea9cdcc3a3506cee037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7cd99a2dbd31b49385afec1cdaef88"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; ba::steady_timer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a8f7cd99a2dbd31b49385afec1cdaef88">m_endpointTrackingTimer</a></td></tr>
<tr class="separator:a8f7cd99a2dbd31b49385afec1cdaef88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7689da715d506749ce8e308266a1e645"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a7689da715d506749ce8e308266a1e645">is_boot_node_</a> = false</td></tr>
<tr class="separator:a7689da715d506749ce8e308266a1e645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67fe93934e32728b3802154d3129718d"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a67fe93934e32728b3802154d3129718d">chain_id_</a> = 0</td></tr>
<tr class="separator:a67fe93934e32728b3802154d3129718d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7">s_addressByteSize</a> = <a class="el" href="classdev_1_1_fixed_hash.html#a87d44031d6d1f54ba29ea7bf8dee8823a2696024c774fed67360382de4eea4cbc">h256::size</a></td></tr>
<tr class="memdesc:ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constants for Kademlia, derived from address space.  <a href="classdev_1_1p2p_1_1_node_table.html#ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7">More...</a><br /></td></tr>
<tr class="separator:ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09dba6a8ecdef301c8f7aa8409f2fa12"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a09dba6a8ecdef301c8f7aa8409f2fa12">s_bits</a> = 8 * <a class="el" href="classdev_1_1p2p_1_1_node_table.html#ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7">s_addressByteSize</a></td></tr>
<tr class="memdesc:a09dba6a8ecdef301c8f7aa8409f2fa12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Denoted by n in [Kademlia].  <a href="classdev_1_1p2p_1_1_node_table.html#a09dba6a8ecdef301c8f7aa8409f2fa12">More...</a><br /></td></tr>
<tr class="separator:a09dba6a8ecdef301c8f7aa8409f2fa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade27d74d11db98a6b0ef30d82a16e025"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ade27d74d11db98a6b0ef30d82a16e025">s_bins</a> = <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a09dba6a8ecdef301c8f7aa8409f2fa12">s_bits</a> - 1</td></tr>
<tr class="memdesc:ade27d74d11db98a6b0ef30d82a16e025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of m_buckets (excludes root, which is us).  <a href="classdev_1_1p2p_1_1_node_table.html#ade27d74d11db98a6b0ef30d82a16e025">More...</a><br /></td></tr>
<tr class="separator:ade27d74d11db98a6b0ef30d82a16e025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e331c15bb77e61c54ebca1a7de68c7"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a10e331c15bb77e61c54ebca1a7de68c7">s_maxSteps</a> = boost::static_log2&lt;<a class="el" href="classdev_1_1p2p_1_1_node_table.html#a09dba6a8ecdef301c8f7aa8409f2fa12">s_bits</a>&gt;::value</td></tr>
<tr class="separator:a10e331c15bb77e61c54ebca1a7de68c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdec26d244370b75ffc0f4a678310359"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#abdec26d244370b75ffc0f4a678310359">BOOT_NODE_BUCKET_SIZE</a> = 256</td></tr>
<tr class="memdesc:abdec26d244370b75ffc0f4a678310359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chosen constants.  <a href="classdev_1_1p2p_1_1_node_table.html#abdec26d244370b75ffc0f4a678310359">More...</a><br /></td></tr>
<tr class="separator:abdec26d244370b75ffc0f4a678310359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a59a9d8e19ac764fffc82d17d990fb9"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a6a59a9d8e19ac764fffc82d17d990fb9">NODE_BUCKET_SIZE</a> = 16</td></tr>
<tr class="separator:a6a59a9d8e19ac764fffc82d17d990fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9901f4d431e73002058c056fb63a5d5"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ad9901f4d431e73002058c056fb63a5d5">s_alpha</a> = 3</td></tr>
<tr class="separator:ad9901f4d431e73002058c056fb63a5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d84e561b21ee2ad0b7bbd2f61febf3"><td class="memItemLeft" align="right" valign="top">static constexpr std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#ae9d84e561b21ee2ad0b7bbd2f61febf3">c_reqTimeoutMs</a> {600}</td></tr>
<tr class="memdesc:ae9d84e561b21ee2ad0b7bbd2f61febf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intervals.  <a href="classdev_1_1p2p_1_1_node_table.html#ae9d84e561b21ee2ad0b7bbd2f61febf3">More...</a><br /></td></tr>
<tr class="separator:ae9d84e561b21ee2ad0b7bbd2f61febf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbe3474b0e046205133e8be3268f2ff"><td class="memItemLeft" align="right" valign="top">static constexpr std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a1cbe3474b0e046205133e8be3268f2ff">c_discoveryRoundIntervalMs</a> {<a class="el" href="classdev_1_1p2p_1_1_node_table.html#ae9d84e561b21ee2ad0b7bbd2f61febf3">c_reqTimeoutMs</a> * 2}</td></tr>
<tr class="memdesc:a1cbe3474b0e046205133e8be3268f2ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">How long to wait before starting a new discovery round.  <a href="classdev_1_1p2p_1_1_node_table.html#a1cbe3474b0e046205133e8be3268f2ff">More...</a><br /></td></tr>
<tr class="separator:a1cbe3474b0e046205133e8be3268f2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a137a33fd7fae32b7bf27923adf1d2d46"><td class="memItemLeft" align="right" valign="top">static constexpr std::chrono::milliseconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a137a33fd7fae32b7bf27923adf1d2d46">c_bucketRefreshMs</a> {7200}</td></tr>
<tr class="memdesc:a137a33fd7fae32b7bf27923adf1d2d46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refresh interval prevents bucket from becoming stale. [Kademlia].  <a href="classdev_1_1p2p_1_1_node_table.html#a137a33fd7fae32b7bf27923adf1d2d46">More...</a><br /></td></tr>
<tr class="separator:a137a33fd7fae32b7bf27923adf1d2d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a9b4251b5ab00c60b1be3a8d4fceebc58"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a9b4251b5ab00c60b1be3a8d4fceebc58">NodeSocket</a> = <a class="el" href="classdev_1_1p2p_1_1_u_d_p_socket.html">UDPSocket</a>&lt; <a class="el" href="classdev_1_1p2p_1_1_node_table.html">NodeTable</a>, 1280 &gt;</td></tr>
<tr class="separator:a9b4251b5ab00c60b1be3a8d4fceebc58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addda5e37633fabc8e2a4038b9ebfa28a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#addda5e37633fabc8e2a4038b9ebfa28a">TimePoint</a> = std::chrono::steady_clock::time_point</td></tr>
<tr class="memdesc:addda5e37633fabc8e2a4038b9ebfa28a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Steady time point.  <a href="classdev_1_1p2p_1_1_node_table.html#addda5e37633fabc8e2a4038b9ebfa28a">More...</a><br /></td></tr>
<tr class="separator:addda5e37633fabc8e2a4038b9ebfa28a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e16c16acbcbc97008211e37c0268e1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a84e16c16acbcbc97008211e37c0268e1">NodeIdTimePoint</a> = std::pair&lt; <a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a>, <a class="el" href="classdev_1_1p2p_1_1_node_table.html#addda5e37633fabc8e2a4038b9ebfa28a">TimePoint</a> &gt;</td></tr>
<tr class="separator:a84e16c16acbcbc97008211e37c0268e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a1c33e7287989f978a64e676dbad2bb2d"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#a1c33e7287989f978a64e676dbad2bb2d">operator&lt;&lt;</a> (std::ostream &amp;_out, <a class="el" href="classdev_1_1p2p_1_1_node_table.html">NodeTable</a> const &amp;_nodeTable)</td></tr>
<tr class="separator:a1c33e7287989f978a64e676dbad2bb2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_structdev_1_1p2p_1_1_u_d_p_socket_events"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structdev_1_1p2p_1_1_u_d_p_socket_events')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="structdev_1_1p2p_1_1_u_d_p_socket_events.html">dev::p2p::UDPSocketEvents</a></td></tr>
<tr class="memitem:a74eaf5f1786a3352276151a9d4f91db5 inherit pub_methods_structdev_1_1p2p_1_1_u_d_p_socket_events"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdev_1_1p2p_1_1_u_d_p_socket_events.html#a74eaf5f1786a3352276151a9d4f91db5">~UDPSocketEvents</a> ()=default</td></tr>
<tr class="separator:a74eaf5f1786a3352276151a9d4f91db5 inherit pub_methods_structdev_1_1p2p_1_1_u_d_p_socket_events"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classdev_1_1p2p_1_1_node_table.html">NodeTable</a> using modified kademlia for node discovery and preference. <a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> table requires an IO service, creates a socket for incoming UDP messages and implements a kademlia-like protocol. <a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> requests and responses are used to build a node table which can be queried to obtain a list of potential nodes to connect to, and, passes events to <a class="el" href="structdev_1_1p2p_1_1_host.html" title="The Host class Capabilities should be registered prior to startNetwork, since m_capabilities is not t...">Host</a> whenever a node is added or removed to/from the table.</p>
<p>Thread-safety is ensured by modifying <a class="el" href="structdev_1_1p2p_1_1_node_entry.html" title="Entry in Node Table.">NodeEntry</a> details via shared_ptr replacement instead of mutating values.</p>
<p><a class="el" href="classdev_1_1p2p_1_1_node_table.html">NodeTable</a> accepts a port for UDP and will listen to the port on all available interfaces.</p>
<p>[Optimization] </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd><p class="startdd">serialize evictions per-bucket </p>
<p class="interdd">store evictions in map, unit-test eviction logic </p>
<p class="interdd">store root node in table </p>
<p class="interdd">encapsulate discover into NetworkAlgorithm (task) </p>
<p class="interdd">expiration and sha3(id) 'to' for messages which are replies (prevents replay) </p>
<p class="enddd">cache Ping and FindSelf</p>
</dd></dl>
<p>[Networking] </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd><p class="startdd">eth/upnp/natpmp/stun/ice/etc for public-discovery </p>
<p class="enddd">firewall</p>
</dd></dl>
<p>[Protocol] </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd><p class="startdd">optimize knowledge at opposite edges; eg, s_bitsPerStep lookups. (Can be done via pointers to <a class="el" href="classdev_1_1p2p_1_1_node_table.html#structdev_1_1p2p_1_1_node_table_1_1_node_bucket">NodeBucket</a>) </p>
<p class="enddd">^ s_bitsPerStep = 8; // Denoted by b in [Kademlia]. Bits by which address space is divided. </p>
</dd></dl>
</div><hr/><h2 class="groupheader">Class Documentation</h2>
<a name="structdev_1_1p2p_1_1_node_table_1_1_node_bucket" id="structdev_1_1p2p_1_1_node_table_1_1_node_bucket"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structdev_1_1p2p_1_1_node_table_1_1_node_bucket">&#9670;&nbsp;</a></span>dev::p2p::NodeTable::NodeBucket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dev::p2p::NodeTable::NodeBucket</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a id="a4d9c82a6c84913cbc3ec3070138b10c3"></a>unsigned</td>
<td class="fieldname">
distance</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a id="a91b5abd654f05e02a0152282c1070c13"></a>list&lt; weak_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; &gt;</td>
<td class="fieldname">
nodes</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a84e16c16acbcbc97008211e37c0268e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e16c16acbcbc97008211e37c0268e1">&#9670;&nbsp;</a></span>NodeIdTimePoint</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a84e16c16acbcbc97008211e37c0268e1">dev::p2p::NodeTable::NodeIdTimePoint</a> =  std::pair&lt;<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a>, <a class="el" href="classdev_1_1p2p_1_1_node_table.html#addda5e37633fabc8e2a4038b9ebfa28a">TimePoint</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b4251b5ab00c60b1be3a8d4fceebc58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4251b5ab00c60b1be3a8d4fceebc58">&#9670;&nbsp;</a></span>NodeSocket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a9b4251b5ab00c60b1be3a8d4fceebc58">dev::p2p::NodeTable::NodeSocket</a> =  <a class="el" href="classdev_1_1p2p_1_1_u_d_p_socket.html">UDPSocket</a>&lt;<a class="el" href="classdev_1_1p2p_1_1_node_table.html">NodeTable</a>, 1280&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="addda5e37633fabc8e2a4038b9ebfa28a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addda5e37633fabc8e2a4038b9ebfa28a">&#9670;&nbsp;</a></span>TimePoint</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdev_1_1p2p_1_1_node_table.html#addda5e37633fabc8e2a4038b9ebfa28a">dev::p2p::NodeTable::TimePoint</a> =  std::chrono::steady_clock::time_point</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Steady time point. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae6be78eae27ea37219e69e649699431b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6be78eae27ea37219e69e649699431b">&#9670;&nbsp;</a></span>NodeTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dev::p2p::NodeTable::NodeTable </td>
          <td>(</td>
          <td class="paramtype">ba::io_context &amp;&#160;</td>
          <td class="paramname"><em>_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdev_1_1_key_pair.html">KeyPair</a> const &amp;&#160;</td>
          <td class="paramname"><em>_alias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a> const &amp;&#160;</td>
          <td class="paramname"><em>_endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a> const &amp;&#160;</td>
          <td class="paramname"><em>_enr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_enabled</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_allowLocalDiscovery</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_boot_node</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>chain_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor requiring host for I/O, credentials, and IP Address, port to listen on and host <a class="el" href="classdev_1_1p2p_1_1_e_n_r.html" title="Class representing Ethereum Node Record - see EIP-778.">ENR</a>. </p>

</div>
</div>
<a id="a99398857f494dfdd15d0ee17ac4fb44a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99398857f494dfdd15d0ee17ac4fb44a">&#9670;&nbsp;</a></span>~NodeTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dev::p2p::NodeTable::~NodeTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a97075d7b503ade4e8b87a14627f1b1ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97075d7b503ade4e8b87a14627f1b1ef">&#9670;&nbsp;</a></span>addKnownNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dev::p2p::NodeTable::addKnownNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;&#160;</td>
          <td class="paramname"><em>_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>_lastPongReceivedTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>_lastPongSentTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add node to the list of all nodes and add it to the node table. In case the node's endpoint proof expired, pings it. In case the nodes is already in the node table, ignores add request.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the node is valid. </dd></dl>

</div>
</div>
<a id="a06154fc4e44ce793054bf5d8d295ff8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06154fc4e44ce793054bf5d8d295ff8e">&#9670;&nbsp;</a></span>addNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dev::p2p::NodeTable::addNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;&#160;</td>
          <td class="paramname"><em>_node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts async node add to the node table by pinging it to trigger the endpoint proof. In case the node is already in the node table, pings only if the endpoint proof expired.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the node is valid. </dd></dl>

</div>
</div>
<a id="acc79fb500db389c4480534a9c316e8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc79fb500db389c4480534a9c316e8ee">&#9670;&nbsp;</a></span>bucket_UNSAFE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdev_1_1p2p_1_1_node_table.html#structdev_1_1p2p_1_1_node_table_1_1_node_bucket">NodeTable::NodeBucket</a> &amp; dev::p2p::NodeTable::bucket_UNSAFE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> const *&#160;</td>
          <td class="paramname"><em>_n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns references to bucket which corresponds to distance of node id. </p><dl class="section warning"><dt>Warning</dt><dd>Only use the return reference locked x_state mutex. </dd></dl>

</div>
</div>
<a id="a3ccec904eb8e4cb99ff1f8046620dc91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ccec904eb8e4cb99ff1f8046620dc91">&#9670;&nbsp;</a></span>cancelTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::cancelTimer </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; ba::steady_timer &gt;&#160;</td>
          <td class="paramname"><em>_timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a46ef68d2479559281da7b817783bc1ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ef68d2479559281da7b817783bc1ef">&#9670;&nbsp;</a></span>count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned dev::p2p::NodeTable::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns node count. </p>

</div>
</div>
<a id="a2aa17544301359305d2c4fa87f7ae810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa17544301359305d2c4fa87f7ae810">&#9670;&nbsp;</a></span>distance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dev::p2p::NodeTable::distance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedev.html#ac5875388a1e0345bba6f8219172a6644">h256</a> const &amp;&#160;</td>
          <td class="paramname"><em>_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedev.html#ac5875388a1e0345bba6f8219172a6644">h256</a> const &amp;&#160;</td>
          <td class="paramname"><em>_b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns distance based on xor metric two node ids. Used by <a class="el" href="structdev_1_1p2p_1_1_node_entry.html" title="Entry in Node Table.">NodeEntry</a> and <a class="el" href="classdev_1_1p2p_1_1_node_table.html">NodeTable</a>. </p>

</div>
</div>
<a id="a9e312771d262e0b4e8a02a4a45fcfeb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e312771d262e0b4e8a02a4a45fcfeb6">&#9670;&nbsp;</a></span>doDiscovery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::doDiscovery </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tasks. </p>
<p>Looks up a random node at @c_bucketRefresh interval. </p>

</div>
</div>
<a id="a16ffc37a4d57247b6a3df373722dfc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ffc37a4d57247b6a3df373722dfc08">&#9670;&nbsp;</a></span>doDiscoveryRound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::doDiscoveryRound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a>&#160;</td>
          <td class="paramname"><em>_target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>_round</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::set&lt; std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&gt;&gt;&#160;</td>
          <td class="paramname"><em>_tried</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Used to discovery nodes on network which are close to the given target. Sends s_alpha concurrent requests to nodes nearest to target, for nodes nearest to target, up to s_maxSteps rounds. </p>

</div>
</div>
<a id="a008f3077a46a7dbc8cd14cc00f76aa49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a008f3077a46a7dbc8cd14cc00f76aa49">&#9670;&nbsp;</a></span>doEndpointTracking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::doEndpointTracking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6dea38ad360fe5a2eafbd822a0774ed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dea38ad360fe5a2eafbd822a0774ed0">&#9670;&nbsp;</a></span>doHandleTimeouts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::doHandleTimeouts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clear timed-out pings and drop nodes from the node table which haven't responded to ping and bring in their replacements </p>

</div>
</div>
<a id="a7ab7bf299174016952f720ed9d682013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab7bf299174016952f720ed9d682013">&#9670;&nbsp;</a></span>dropNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::dropNode </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td>
          <td class="paramname"><em>_n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Used to drop node when timeout occurs or when <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a8cbf2e66f19486bb30e5f8ce6832943b">evict()</a> result is to keep previous node. </p>

</div>
</div>
<a id="a8cbf2e66f19486bb30e5f8ce6832943b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbf2e66f19486bb30e5f8ce6832943b">&#9670;&nbsp;</a></span>evict()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::evict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> const &amp;&#160;</td>
          <td class="paramname"><em>_leastSeen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td>
          <td class="paramname"><em>_replacement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Asynchronously drops _leastSeen node if it doesn't reply and adds _replacement node, otherwise _replacement is thrown away. </p>

</div>
</div>
<a id="acc947166ab0d0d53c0ae82e050d14301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc947166ab0d0d53c0ae82e050d14301">&#9670;&nbsp;</a></span>getSourceEndpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a> dev::p2p::NodeTable::getSourceEndpoint </td>
          <td>(</td>
          <td class="paramtype">bi::udp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_ping_node.html">PingNode</a> const &amp;&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0fcb0bd36dd0ad9938489d8b22c52bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fcb0bd36dd0ad9938489d8b22c52bda">&#9670;&nbsp;</a></span>handleENRRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; dev::p2p::NodeTable::handleENRRequest </td>
          <td>(</td>
          <td class="paramtype">bi::udp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;&#160;</td>
          <td class="paramname"><em>_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ddd57cf476103eea8dcdb5053fbffa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ddd57cf476103eea8dcdb5053fbffa1">&#9670;&nbsp;</a></span>handleENRResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; dev::p2p::NodeTable::handleENRResponse </td>
          <td>(</td>
          <td class="paramtype">bi::udp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;&#160;</td>
          <td class="paramname"><em>_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afe55ec9227a16c56cd773eadf85be5c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe55ec9227a16c56cd773eadf85be5c7">&#9670;&nbsp;</a></span>handleFindNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; dev::p2p::NodeTable::handleFindNode </td>
          <td>(</td>
          <td class="paramtype">bi::udp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;&#160;</td>
          <td class="paramname"><em>_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9134030b296b3bd049009ad780237431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9134030b296b3bd049009ad780237431">&#9670;&nbsp;</a></span>handleNeighbours()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; dev::p2p::NodeTable::handleNeighbours </td>
          <td>(</td>
          <td class="paramtype">bi::udp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;&#160;</td>
          <td class="paramname"><em>_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a611d013b0cf8ee20530d4e448d849898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a611d013b0cf8ee20530d4e448d849898">&#9670;&nbsp;</a></span>handlePingNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; dev::p2p::NodeTable::handlePingNode </td>
          <td>(</td>
          <td class="paramtype">bi::udp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;&#160;</td>
          <td class="paramname"><em>_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8616ccd13a0d9b0a1f9770ea8b39db81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8616ccd13a0d9b0a1f9770ea8b39db81">&#9670;&nbsp;</a></span>handlePong()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; dev::p2p::NodeTable::handlePong </td>
          <td>(</td>
          <td class="paramtype">bi::udp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_discovery_datagram.html">DiscoveryDatagram</a> const &amp;&#160;</td>
          <td class="paramname"><em>_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acdb299588ec7ad49cfa6e2e0f2cb776b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdb299588ec7ad49cfa6e2e0f2cb776b">&#9670;&nbsp;</a></span>haveNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dev::p2p::NodeTable::haveNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;&#160;</td>
          <td class="paramname"><em>_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if node id is in node table. </p>

</div>
</div>
<a id="abb4a04a3067a97ed62e00b208894e0a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb4a04a3067a97ed62e00b208894e0a4">&#9670;&nbsp;</a></span>hostENR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a> dev::p2p::NodeTable::hostENR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1945ef79bd5cbfc5f50d100b2f0af82d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1945ef79bd5cbfc5f50d100b2f0af82d">&#9670;&nbsp;</a></span>invalidateNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::invalidateNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;&#160;</td>
          <td class="paramname"><em>_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a81bd6cc00f6ebc92d808537b5dd2bd19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81bd6cc00f6ebc92d808537b5dd2bd19">&#9670;&nbsp;</a></span>isAllowedEndpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dev::p2p::NodeTable::isAllowedEndpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a> const &amp;&#160;</td>
          <td class="paramname"><em>_endpointToCheck</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines if a node with the supplied endpoint is allowed to participate in discovery. </p>

</div>
</div>
<a id="afc6dc5ffedf8e3229715efb22bf7b1f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc6dc5ffedf8e3229715efb22bf7b1f7">&#9670;&nbsp;</a></span>isValidNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dev::p2p::NodeTable::isValidNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;&#160;</td>
          <td class="paramname"><em>_node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if the node is valid to be added to the node table. (validates node ID and endpoint) </dd></dl>

</div>
</div>
<a id="a76691f7c1e6598b90b7f89ce2696e844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76691f7c1e6598b90b7f89ce2696e844">&#9670;&nbsp;</a></span>nearestNodeEntries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; &gt; dev::p2p::NodeTable::nearestNodeEntries </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;&#160;</td>
          <td class="paramname"><em>_target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns s_bucketSize nodes from node table which are closest to target. </p>

</div>
</div>
<a id="a268445591f71b43fc8eb9e085cb1fa7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a268445591f71b43fc8eb9e085cb1fa7c">&#9670;&nbsp;</a></span>nextRequestExpirationTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t dev::p2p::NodeTable::nextRequestExpirationTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9be54199e39b50f063f37d92fcc8d8eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9be54199e39b50f063f37d92fcc8d8eb">&#9670;&nbsp;</a></span>node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> dev::p2p::NodeTable::node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;&#160;</td>
          <td class="paramname"><em>_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the <a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> to the corresponding node id or the empty <a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> if that id is not found. </p>

</div>
</div>
<a id="a8d69847fabec1444cfb91f4b7371a37b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d69847fabec1444cfb91f4b7371a37b">&#9670;&nbsp;</a></span>nodeEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; dev::p2p::NodeTable::nodeEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> const &amp;&#160;</td>
          <td class="paramname"><em>_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Used by asynchronous operations to return <a class="el" href="structdev_1_1p2p_1_1_node_entry.html" title="Entry in Node Table.">NodeEntry</a> which is active and managed by node table. </p>

</div>
</div>
<a id="a86c2f35c340aae9dc186a1474f7533da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86c2f35c340aae9dc186a1474f7533da">&#9670;&nbsp;</a></span>nodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list&lt; <a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> &gt; dev::p2p::NodeTable::nodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns list of node ids active in node table. </p>

</div>
</div>
<a id="aee81c2ab6eac0d68f039f0aa338e0e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee81c2ab6eac0d68f039f0aa338e0e25">&#9670;&nbsp;</a></span>noteActiveNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::noteActiveNode </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td>
          <td class="paramname"><em>_nodeEntry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called whenever activity is received from a node in order to maintain node table. Only called for nodes for which we've completed an endpoint proof. </p>

</div>
</div>
<a id="afe784e49f8100046c2195745be005286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe784e49f8100046c2195745be005286">&#9670;&nbsp;</a></span>onPacketReceived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::onPacketReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_u_d_p_socket_face.html">UDPSocketFace</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bi::udp::endpoint const &amp;&#160;</td>
          <td class="paramname"><em>_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedev.html#ab457e5f6cc31fb60752381cdca22b4c4">bytesConstRef</a>&#160;</td>
          <td class="paramname"><em>_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>General <a class="el" href="classdev_1_1p2p_1_1_network.html" title="Network Class Static network operations and interface(s).">Network</a> Events. </p>
<p>Called by m_socket when packet is received. </p>

<p>Implements <a class="el" href="structdev_1_1p2p_1_1_u_d_p_socket_events.html#a6436020c013be35bd9f912b6ee0c0c91">dev::p2p::UDPSocketEvents</a>.</p>

</div>
</div>
<a id="a3a00cb60306414b39fcef52adee56f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a00cb60306414b39fcef52adee56f38">&#9670;&nbsp;</a></span>onSocketDisconnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::onSocketDisconnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdev_1_1p2p_1_1_u_d_p_socket_face.html">UDPSocketFace</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by m_socket when socket is disconnected. </p>

<p>Reimplemented from <a class="el" href="structdev_1_1p2p_1_1_u_d_p_socket_events.html#af6ba3388128a8ca63ec7243569eef939">dev::p2p::UDPSocketEvents</a>.</p>

</div>
</div>
<a id="a12b4a10308ac6172798ed668751f25b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b4a10308ac6172798ed668751f25b9">&#9670;&nbsp;</a></span>ping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::ping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;&#160;</td>
          <td class="paramname"><em>_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt;&#160;</td>
          <td class="paramname"><em>_replacementNodeEntry</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Used to ping a node to initiate the endpoint proof. Used when contacting neighbours if they don't have a valid endpoint proof (see doDiscoveryRound), refreshing buckets and as part of eviction process (see evict). Synchronous, has to be called only from the network thread. </p>

</div>
</div>
<a id="a5eaaf6d40dc8fc2bf6381b87c709197d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eaaf6d40dc8fc2bf6381b87c709197d">&#9670;&nbsp;</a></span>processEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::processEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called by implementation which provided handler to process NodeEntryAdded/NodeEntryDropped events. Events are coalesced by type whereby old events are ignored. </p>

</div>
</div>
<a id="a606d23506c7726534258b983e437f96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606d23506c7726534258b983e437f96b">&#9670;&nbsp;</a></span>runBackgroundTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::runBackgroundTask </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds const &amp;&#160;</td>
          <td class="paramname"><em>_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; ba::steady_timer &gt;&#160;</td>
          <td class="paramname"><em>_timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void()&gt;&#160;</td>
          <td class="paramname"><em>_f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9cefcb7a5195fba7d3c9c13a0b501204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cefcb7a5195fba7d3c9c13a0b501204">&#9670;&nbsp;</a></span>schedulePing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::schedulePing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> const &amp;&#160;</td>
          <td class="paramname"><em>_node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Schedules <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a12b4a10308ac6172798ed668751f25b9">ping()</a> method to be called from the network thread. Not synchronous - the ping operation is queued via a timer. </p>

</div>
</div>
<a id="a1c8016d89e5933de76a5a03293dc8f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c8016d89e5933de76a5a03293dc8f9d">&#9670;&nbsp;</a></span>setEventHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dev::p2p::NodeTable::setEventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node_table_event_handler.html">NodeTableEventHandler</a> *&#160;</td>
          <td class="paramname"><em>_handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set event handler for NodeEntryAdded and NodeEntryDropped events. </p>

</div>
</div>
<a id="ab014c448a521aa00ca72dbd2b7241d90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab014c448a521aa00ca72dbd2b7241d90">&#9670;&nbsp;</a></span>snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list&lt; <a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a> &gt; dev::p2p::NodeTable::snapshot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns snapshot of table. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a1c33e7287989f978a64e676dbad2bb2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c33e7287989f978a64e676dbad2bb2d">&#9670;&nbsp;</a></span>operator&lt;&lt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdev_1_1p2p_1_1_node_table.html">NodeTable</a> const &amp;&#160;</td>
          <td class="paramname"><em>_nodeTable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abdec26d244370b75ffc0f4a678310359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdec26d244370b75ffc0f4a678310359">&#9670;&nbsp;</a></span>BOOT_NODE_BUCKET_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t dev::p2p::NodeTable::BOOT_NODE_BUCKET_SIZE = 256</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Chosen constants. </p>

</div>
</div>
<a id="ab246191ad4fefa9c29808ff63580445e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab246191ad4fefa9c29808ff63580445e">&#9670;&nbsp;</a></span>c_bondingTimeSeconds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t dev::p2p::NodeTable::c_bondingTimeSeconds {12 * 60 * 60}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a137a33fd7fae32b7bf27923adf1d2d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137a33fd7fae32b7bf27923adf1d2d46">&#9670;&nbsp;</a></span>c_bucketRefreshMs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr chrono::milliseconds dev::p2p::NodeTable::c_bucketRefreshMs {7200}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Refresh interval prevents bucket from becoming stale. [Kademlia]. </p>

</div>
</div>
<a id="a1cbe3474b0e046205133e8be3268f2ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cbe3474b0e046205133e8be3268f2ff">&#9670;&nbsp;</a></span>c_discoveryRoundIntervalMs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr chrono::milliseconds dev::p2p::NodeTable::c_discoveryRoundIntervalMs {<a class="el" href="classdev_1_1p2p_1_1_node_table.html#ae9d84e561b21ee2ad0b7bbd2f61febf3">c_reqTimeoutMs</a> * 2}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How long to wait before starting a new discovery round. </p>

</div>
</div>
<a id="ae9d84e561b21ee2ad0b7bbd2f61febf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d84e561b21ee2ad0b7bbd2f61febf3">&#9670;&nbsp;</a></span>c_reqTimeoutMs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr chrono::milliseconds dev::p2p::NodeTable::c_reqTimeoutMs {600}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Intervals. </p>
<p>How long to wait for requests (evict, find iterations). </p>

</div>
</div>
<a id="a67fe93934e32728b3802154d3129718d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67fe93934e32728b3802154d3129718d">&#9670;&nbsp;</a></span>chain_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t dev::p2p::NodeTable::chain_id_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7689da715d506749ce8e308266a1e645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7689da715d506749ce8e308266a1e645">&#9670;&nbsp;</a></span>is_boot_node_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool dev::p2p::NodeTable::is_boot_node_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3eaefa5266831ef6283822528c4b6f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eaefa5266831ef6283822528c4b6f98">&#9670;&nbsp;</a></span>m_allNodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a>, std::shared_ptr&lt;<a class="el" href="structdev_1_1p2p_1_1_node_entry.html">NodeEntry</a>&gt; &gt; dev::p2p::NodeTable::m_allNodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classdev_1_1p2p_1_1_node.html">Node</a> endpoints. Includes all nodes that were added into node table's buckets and have not been evicted yet. </p>

</div>
</div>
<a id="a4f5d1b5c0bfdd950d4c944fbbf0f9ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f5d1b5c0bfdd950d4c944fbbf0f9ea4">&#9670;&nbsp;</a></span>m_allowLocalDiscovery</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool dev::p2p::NodeTable::m_allowLocalDiscovery</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allow nodes with local addresses to be included in the discovery process </p>

</div>
</div>
<a id="a3247400d659f990804b6240fe8c24738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3247400d659f990804b6240fe8c24738">&#9670;&nbsp;</a></span>m_buckets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;<a class="el" href="classdev_1_1p2p_1_1_node_table.html#structdev_1_1p2p_1_1_node_table_1_1_node_bucket">NodeBucket</a>, <a class="el" href="classdev_1_1p2p_1_1_node_table.html#ade27d74d11db98a6b0ef30d82a16e025">s_bins</a>&gt; dev::p2p::NodeTable::m_buckets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>State of <a class="el" href="namespacedev_1_1p2p.html">p2p</a> node network. Only includes nodes for which we've completed the endpoint proof </p>

</div>
</div>
<a id="ab2f9a2ca450752e1315377a8fd4252ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2f9a2ca450752e1315377a8fd4252ff">&#9670;&nbsp;</a></span>m_discoveryTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;ba::steady_timer&gt; dev::p2p::NodeTable::m_discoveryTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5040a39ab412f595949822dc80854ded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5040a39ab412f595949822dc80854ded">&#9670;&nbsp;</a></span>m_endpointTracker</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdev_1_1p2p_1_1_endpoint_tracker.html">EndpointTracker</a> dev::p2p::NodeTable::m_endpointTracker</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f7cd99a2dbd31b49385afec1cdaef88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7cd99a2dbd31b49385afec1cdaef88">&#9670;&nbsp;</a></span>m_endpointTrackingTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;ba::steady_timer&gt; dev::p2p::NodeTable::m_endpointTrackingTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a29c3b23de13cc3d04d5602326ef5b506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c3b23de13cc3d04d5602326ef5b506">&#9670;&nbsp;</a></span>m_hostENR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdev_1_1p2p_1_1_e_n_r.html">ENR</a> dev::p2p::NodeTable::m_hostENR</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adc582e124a2456cdde27b5ac4374c0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc582e124a2456cdde27b5ac4374c0e4">&#9670;&nbsp;</a></span>m_hostENRMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedev.html#a28059f0e0521741cce21cf5fd419bdf4">Mutex</a> dev::p2p::NodeTable::m_hostENRMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a67e01f80c4f0ee08028eaadf22baf53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e01f80c4f0ee08028eaadf22baf53f">&#9670;&nbsp;</a></span>m_hostNodeEndpoint</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a> dev::p2p::NodeTable::m_hostNodeEndpoint</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a659d78d0e12e02b9aaa26b9931d2f70d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659d78d0e12e02b9aaa26b9931d2f70d">&#9670;&nbsp;</a></span>m_hostNodeID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a> dev::p2p::NodeTable::m_hostNodeID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2ff576a0514cb60c39904ff351a48f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff576a0514cb60c39904ff351a48f56">&#9670;&nbsp;</a></span>m_hostNodeIDHash</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacedev.html#ac5875388a1e0345bba6f8219172a6644">h256</a> dev::p2p::NodeTable::m_hostNodeIDHash</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a987e309d1c611277c441008849a503a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987e309d1c611277c441008849a503a7">&#9670;&nbsp;</a></span>m_hostStaticIP</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bi::address const dev::p2p::NodeTable::m_hostStaticIP</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa75fbddfbe50ff0356a9e9b443560cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75fbddfbe50ff0356a9e9b443560cc6">&#9670;&nbsp;</a></span>m_id2IpMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="namespacedev_1_1p2p.html#abbde6b5aa63ddcf129cc2ccdda42e5d5">NodeID</a>, bi::udp::endpoint&gt; dev::p2p::NodeTable::m_id2IpMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This map is used for maping between node id and real network IP. </p>

</div>
</div>
<a id="ad971773454cd84a33b419063e6af8e7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad971773454cd84a33b419063e6af8e7c">&#9670;&nbsp;</a></span>m_ipMappings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;bi::udp::endpoint, <a class="el" href="classdev_1_1p2p_1_1_node_i_p_endpoint.html">NodeIPEndpoint</a>&gt; dev::p2p::NodeTable::m_ipMappings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This map keeps tracking between real IP and IP reported by node (external IP) </p>

</div>
</div>
<a id="afdbddbd02225acb05be4680c60725770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdbddbd02225acb05be4680c60725770">&#9670;&nbsp;</a></span>m_logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedev.html#a47e383bc41ef3b6ad64b26324a79b948">Logger</a> dev::p2p::NodeTable::m_logger {<a class="el" href="namespacedev.html#adb1208e9bab817458c3b4a94ed06cfc6">createLogger</a>(<a class="el" href="namespacedev.html#a7fc4649ee123b939f2786c757b3d4491a73f1cfe530632048dd623729258af859">VerbosityDebug</a>, &quot;discov&quot;)}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0befe57f0dca2c986be36ed5dc2e39fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0befe57f0dca2c986be36ed5dc2e39fa">&#9670;&nbsp;</a></span>m_nodeEventHandler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classdev_1_1p2p_1_1_node_table_event_handler.html">NodeTableEventHandler</a>&gt; dev::p2p::NodeTable::m_nodeEventHandler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Event handler for node events. </p>

</div>
</div>
<a id="a92c64ace79e05f17576bcde63dd5e200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c64ace79e05f17576bcde63dd5e200">&#9670;&nbsp;</a></span>m_requestTimeToLive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::chrono::seconds dev::p2p::NodeTable::m_requestTimeToLive</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa0f1d3cc894f7052118f372fdaa39569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f1d3cc894f7052118f372fdaa39569">&#9670;&nbsp;</a></span>m_secret</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedev.html#a04a16f8a4c264a7868151d49e2223f04">Secret</a> dev::p2p::NodeTable::m_secret</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This nodes secret key. </p>

</div>
</div>
<a id="a4cff124ef68e05d01dd28a194a67d1e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cff124ef68e05d01dd28a194a67d1e9">&#9670;&nbsp;</a></span>m_sentFindNodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="classdev_1_1p2p_1_1_node_table.html#a84e16c16acbcbc97008211e37c0268e1">NodeIdTimePoint</a>&gt; dev::p2p::NodeTable::m_sentFindNodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timeouts for <a class="el" href="structdev_1_1p2p_1_1_find_node.html">FindNode</a> requests. </p>

</div>
</div>
<a id="ae1d9a153f6d72f9fd7915952d55ec69f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d9a153f6d72f9fd7915952d55ec69f">&#9670;&nbsp;</a></span>m_sentPings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;bi::udp::endpoint, <a class="el" href="structdev_1_1p2p_1_1_node_table_1_1_node_validation.html">NodeValidation</a>&gt; dev::p2p::NodeTable::m_sentPings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7bcd7ce68cec06ca89fc584e0c174d9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bcd7ce68cec06ca89fc584e0c174d9e">&#9670;&nbsp;</a></span>m_socket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classdev_1_1p2p_1_1_node_table.html#a9b4251b5ab00c60b1be3a8d4fceebc58">NodeSocket</a>&gt; dev::p2p::NodeTable::m_socket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Shared pointer for our <a class="el" href="classdev_1_1p2p_1_1_u_d_p_socket.html" title="UDP Interface Handler must implement UDPSocketEvents.">UDPSocket</a>; ASIO requires shared_ptr. </p>

</div>
</div>
<a id="a65a5f68046a38ea9cdcc3a3506cee037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a5f68046a38ea9cdcc3a3506cee037">&#9670;&nbsp;</a></span>m_timeoutsTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;ba::steady_timer&gt; dev::p2p::NodeTable::m_timeoutsTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a59a9d8e19ac764fffc82d17d990fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a59a9d8e19ac764fffc82d17d990fb9">&#9670;&nbsp;</a></span>NODE_BUCKET_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t dev::p2p::NodeTable::NODE_BUCKET_SIZE = 16</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7">&#9670;&nbsp;</a></span>s_addressByteSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned dev::p2p::NodeTable::s_addressByteSize = <a class="el" href="classdev_1_1_fixed_hash.html#a87d44031d6d1f54ba29ea7bf8dee8823a2696024c774fed67360382de4eea4cbc">h256::size</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constants for Kademlia, derived from address space. </p>
<p>Size of address type in bytes. </p>

</div>
</div>
<a id="ad9901f4d431e73002058c056fb63a5d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9901f4d431e73002058c056fb63a5d5">&#9670;&nbsp;</a></span>s_alpha</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned dev::p2p::NodeTable::s_alpha = 3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Denoted by \alpha in [Kademlia]. Number of concurrent <a class="el" href="structdev_1_1p2p_1_1_find_node.html">FindNode</a> requests. </p>

</div>
</div>
<a id="ade27d74d11db98a6b0ef30d82a16e025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade27d74d11db98a6b0ef30d82a16e025">&#9670;&nbsp;</a></span>s_bins</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned dev::p2p::NodeTable::s_bins = <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a09dba6a8ecdef301c8f7aa8409f2fa12">s_bits</a> - 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Size of m_buckets (excludes root, which is us). </p>

</div>
</div>
<a id="a09dba6a8ecdef301c8f7aa8409f2fa12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09dba6a8ecdef301c8f7aa8409f2fa12">&#9670;&nbsp;</a></span>s_bits</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned dev::p2p::NodeTable::s_bits = 8 * <a class="el" href="classdev_1_1p2p_1_1_node_table.html#ace0bbbfbdb67e3c7e9bfb5c5e82f3ca7">s_addressByteSize</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Denoted by n in [Kademlia]. </p>

</div>
</div>
<a id="a689a7de957873135ca06050cae76d6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a689a7de957873135ca06050cae76d6d4">&#9670;&nbsp;</a></span>s_bucketSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned dev::p2p::NodeTable::s_bucketSize = <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a6a59a9d8e19ac764fffc82d17d990fb9">NODE_BUCKET_SIZE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Denoted by k in [Kademlia]. Number of nodes stored in each bucket. </p>

</div>
</div>
<a id="a10e331c15bb77e61c54ebca1a7de68c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e331c15bb77e61c54ebca1a7de68c7">&#9670;&nbsp;</a></span>s_maxSteps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned dev::p2p::NodeTable::s_maxSteps = boost::static_log2&lt;<a class="el" href="classdev_1_1p2p_1_1_node_table.html#a09dba6a8ecdef301c8f7aa8409f2fa12">s_bits</a>&gt;::value</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Max iterations of discovery. (discover) </p>

</div>
</div>
<a id="afe7c62106d53cd1b582e706ff62764ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe7c62106d53cd1b582e706ff62764ea">&#9670;&nbsp;</a></span>strand_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ba::strand&lt;ba::io_context::executor_type&gt; dev::p2p::NodeTable::strand_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0785d3a39f317bc0b98c9e73d67879d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0785d3a39f317bc0b98c9e73d67879d9">&#9670;&nbsp;</a></span>x_ips</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedev.html#a28059f0e0521741cce21cf5fd419bdf4">Mutex</a> dev::p2p::NodeTable::x_ips</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a90ac2faa8cf21a55b1b0be71dd917573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90ac2faa8cf21a55b1b0be71dd917573">&#9670;&nbsp;</a></span>x_nodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedev.html#a28059f0e0521741cce21cf5fd419bdf4">Mutex</a> dev::p2p::NodeTable::x_nodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>LOCK x_state first if both locks are required. Mutable for thread-safe copy in <a class="el" href="classdev_1_1p2p_1_1_node_table.html#a86c2f35c340aae9dc186a1474f7533da" title="Returns list of node ids active in node table.">nodes() const</a>. </p>

</div>
</div>
<a id="a27070a3a30c30c58fdbe20ea526b5ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27070a3a30c30c58fdbe20ea526b5ef7">&#9670;&nbsp;</a></span>x_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedev.html#a28059f0e0521741cce21cf5fd419bdf4">Mutex</a> dev::p2p::NodeTable::x_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>LOCK x_state first if both x_nodes and x_state locks are required. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/aleth/libp2p/<a class="el" href="_node_table_8h_source.html">NodeTable.h</a></li>
<li>libraries/aleth/libp2p/<a class="el" href="_node_table_8cpp.html">NodeTable.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedev.html">dev</a></li><li class="navelem"><a class="el" href="namespacedev_1_1p2p.html">p2p</a></li><li class="navelem"><a class="el" href="classdev_1_1p2p_1_1_node_table.html">NodeTable</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
